{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/vulnerability/dos_with_unexpected_revert/dos_unexpected_revert/",
    "result": {"data":{"cur":{"id":"74712f9f-52f3-558c-ab49-7b3557819053","html":"<h1 id=\"-unexpected-revert\" style=\"position:relative;\"><a href=\"#-unexpected-revert\" aria-label=\" unexpected revert permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ Unexpected Revert</h1>\n<h2 id=\"unexpected-revertë€\" style=\"position:relative;\"><a href=\"#unexpected-revert%EB%9E%80\" aria-label=\"unexpected revertë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unexpected Revertë€?</h2>\n<p>Unexpected RevertëŠ” ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, íŠ¸ëœì­ì…˜ì„ ê³ ì˜ì  revertì‹œí‚´ìœ¼ë¡œì¨ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì´ ì‘ë™ë˜ì§€ ì•ŠëŠ” ìƒíƒœë¡œ ë§Œë“œëŠ” ì·¨ì•½ì„±ì…ë‹ˆë‹¤.</p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example code</h2>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">KingOfEther</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> king<span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">uint</span> <span class=\"token keyword\">public</span> balance<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">claimThrone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">></span> balance<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Need to pay more to become the king\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> king<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> balance<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        balance <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n        king <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">Attack</span> <span class=\"token punctuation\">{</span>\r\n    KingOfEther kingOfEther<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>KingOfEther _kingOfEther<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        kingOfEther <span class=\"token operator\">=</span> <span class=\"token function\">KingOfEther</span><span class=\"token punctuation\">(</span>_kingOfEther<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">attack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        kingOfEther<span class=\"token punctuation\">.</span>claimThrone<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code></pre></div>\n<p><span style=\"color:grey\">ì¶œì²˜: <a href=\"https://solidity-by-example.org/hacks/denial-of-service/\">https://solidity-by-example.org/hacks/denial-of-service/</a></span></p>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>KingOfEther of Ether Contractê°€ ë°°í¬ëœë‹¤.</li>\n<li>ì²˜ìŒìœ¼ë¡œ Aê°€ 1 Etherë¥¼ claimThrone()ì— ë³´ëƒ„ìœ¼ë¡œì¨ Kingì´ ëœë‹¤.</li>\n<li>ë‹¤ìŒìœ¼ë¡œ Bê°€ 2 Etherë¥¼ claimThrone()ì— ë³´ëƒ„ìœ¼ë¡œì¨ Bê°€ Kingìœ¼ë¡œ ë°”ë€ë‹¤. Kingì´ ë°”ë€Œê¸° ì „ì— Aì—ê²Œ 1 Etherë¥¼ refund í•´ì¤€ë‹¤.</li>\n<li>Cê°€ KingOfEtherì˜ ì£¼ì†Œì™€ í•¨ê»˜ Attack contractë¥¼ ë°°í¬í•œë‹¤.</li>\n<li>CëŠ” Attack.attackì„ 3 Etherì™€ í•¨ê¼ í˜¸ì¶œí•œë‹¤.</li>\n<li>CëŠ” CëŠ” kingì´ ë˜ê³  Attack contractëŠ” etherë¥¼ ë°›ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ëˆ„êµ¬ë„ kingì´ ë  ìˆ˜ ì—†ê²Œ ëœë‹¤. ì¦‰ KingOfEhterì€ ë¬´ì˜ë¯¸í•œ contractê°€ ëœë‹¤.</li>\n</ol>\n<p>EVMì´ externally owned accountsì™€ contract accountsë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì„ ì•…ìš©í•œ ê²ƒ ê°™ì•„ë³´ì¸ë‹¤.</p>\n<hr>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<h4 id=\"pull-over-push\" style=\"position:relative;\"><a href=\"#pull-over-push\" aria-label=\"pull over push permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>pull over push</strong></h4>\n<p>pull over pushë¥¼ í†µí•´ ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆë‹¤. pull over pushëŠ” contractë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ attackerì˜ ê³µê²©ì„ attackerì˜ ì†ì‹¤ë¡œë§Œ ì²˜ë¦¬ í•  ìˆ˜ ìˆë‹¤. ìœ„ì˜ ì½”ë“œë¥¼ pull over pushë¡œ ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">KingOfEther</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> king<span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">uint</span> <span class=\"token keyword\">public</span> balance<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balances<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">claimThrone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">></span> balance<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Need to pay more to become the king\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        balances<span class=\"token punctuation\">[</span>king<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> balance<span class=\"token punctuation\">;</span>\r\n\r\n        balance <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\r\n        king <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender <span class=\"token operator\">!=</span> king<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Current king cannot withdraw\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token builtin\">uint</span> amount <span class=\"token operator\">=</span> balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> amount<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nì´ ì½”ë“œëŠ” Example ì½”ë“œì˜ <span class=\"token function\">claimThrone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">function</span>ì´ <span class=\"token number\">2</span>ê°œì˜ <span class=\"token keyword\">function</span>ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤<span class=\"token punctuation\">.</span> ìœ„ ì½”ë“œì˜ <span class=\"token function\">claimThrone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>ëŠ” kingì„ ë°”ê¾¸ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©ëœë‹¤<span class=\"token punctuation\">.</span> ê·¸ë¦¬ê³  kingì—ì„œ ì«’ê²¨ë‚œ ì‚¬ëŒë“¤ì€ withdraw í•¨ìˆ˜ë¥¼ í†µí•´ etherë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤<span class=\"token punctuation\">.</span>\r\n</code></pre></div>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>ì·¨ì•½ì ë“¤ì— ëŒ€í•´ì„œ ê³µë¶€í•˜ë©´ì„œ ë‚˜ëŠ” EVMì— ëŒ€í•´ì„œ ì•Œì•„ê°€ì•¼ í•  ë¶€ë¶„ì´ ë§ë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤. <del>ì˜ì•ˆë‹¤ê³  ìƒê°í–ˆëŠ”ë°ã…‹ã…‹</del> ê°ˆ ê¸¸ì´ ë©€ë‹¤!! ê¾¸ì¤€íˆ ê³µë¶€í•˜ì:)</p>\n<hr>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://consensys.github.io/smart-contract-best-practices/known_attacks/#dos-with-unexpected-revert\">https://consensys.github.io/smart-contract-best-practices/known_attacks/#dos-with-unexpected-revert</a></li>\n<li><a href=\"https://solidity-by-example.org/hacks/denial-of-service/\">https://solidity-by-example.org/hacks/denial-of-service/</a></li>\n<li><a href=\"https://consensys.github.io/smart-contract-best-practices/recommendations/#favor-pull-over-push-for-external-calls\">https://consensys.github.io/smart-contract-best-practices/recommendations/#favor-pull-over-push-for-external-calls</a></li>\n<li><a href=\"https://arxiv.org/pdf/2105.02852.pdf\">https://arxiv.org/pdf/2105.02852.pdf</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#unexpected-revert%EB%9E%80\">Unexpected Revertë€?</a></p>\n</li>\n<li>\n<p><a href=\"#example-code\">Example code</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#pull-over-push\"><strong>pull over push</strong></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"ğŸ‘‹ Unexpected Revert Unexpected Revertë€? Unexpected RevertëŠ” ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, íŠ¸ëœì­ì…˜ì„ ê³ ì˜ì  revertì‹œí‚´ìœ¼ë¡œì¨ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ì´ ì‘ë™ë˜ì§€ ì•ŠëŠ” ìƒíƒœë¡œ ë§Œë“œëŠ” ì·¨ì•½ì„±ì…ë‹ˆë‹¤. Example code ì¶œì²˜: https://solidity-by-example.org/hacks/denial-of-service/ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤. KingOfEther of Ether Contractê°€ ë°°í¬ëœë‹¤. ì²˜ìŒìœ¼ë¡œ Aê°€ 1 Etherë¥¼ claimThrone()ì— ë³´ëƒ„ìœ¼ë¡œì¨ Kingì´ ëœë‹¤. ë‹¤ìŒìœ¼ë¡œ Bê°€ 2 Etherë¥¼ claimThrone()ì— ë³´ëƒ„ìœ¼ë¡œì¨ Bê°€ Kingìœ¼ë¡œ ë°”ë€ë‹¤. Kingì´ ë°”ë€Œê¸° ì „ì— Aì—ê²Œ 1 Etherë¥¼ refund í•´ì¤€ë‹¤. Cê°€ KingOfEtherì˜ ì£¼ì†Œì™€ í•¨ê»˜ Attack contractë¥¼ ë°°í¬í•œë‹¤. CëŠ” Attack.attackì„ 3 Etherì™€ í•¨ê¼ í˜¸ì¶œí•œë‹¤. CëŠ” CëŠ” kingì´ ë˜ê³  Attack contracâ€¦","frontmatter":{"date":"December 29, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 6) DOS With Unexpected Revert","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/dos_with_unexpected_revert/dos_unexpected_revert/"}},"next":{"id":"b5bcc145-ea08-5f50-b709-61d75f38540e","html":"<h1 id=\"-front-running\" style=\"position:relative;\"><a href=\"#-front-running\" aria-label=\" front running permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ Front Running</h1>\n<h2 id=\"front-runningì´ë€\" style=\"position:relative;\"><a href=\"#front-running%EC%9D%B4%EB%9E%80\" aria-label=\"front runningì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Front Runningì´ë€?</h2>\n<p>transactionì´ í¬í•¨ëœ blockì´ ìƒì„±ë˜ê¸°ê¹Œì§€ ì•½ê°„ì˜ ì‹œê°„ì´ ì†Œìš”ëœë‹¤. ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìë“¤(miners &#x26; full nodes)ì€ ì²˜ë¦¬ë˜ê¸° ì „ì˜ transcationì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ ì•…ì˜ì ì¸ ë§ˆìŒì„ í’ˆëŠ”ë‹¤ë©´ ì´í›„ì— ì¼ì–´ë‚  transcationì„ ì•Œ ìˆ˜ ìˆê³  ì´ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•…ì˜ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì¦‰ front runningì€ blockì´ ì±„êµ´ë˜ê¸° ì „ transcationì„ í™•ì¸í•´ ìì‹ ì´ ë” ë†’ì€ ê°’ì˜ gas priceë¥¼ ì§€ë¶ˆí•˜ì—¬ ì´ë“ì„ ì·¨í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ì˜ˆì‹œë¥¼ ë³¸ë‹¤ë©´ ë” ì´í•´ê°€ ì˜ ë  ê²ƒì´ë‹¤.</p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example Code</h2>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">contract</span> <span class=\"token class-name\">FindThisHash</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">bytes32</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">constant</span> hash <span class=\"token operator\">=</span>\r\n        <span class=\"token number\">0x564ccaf7594d66b1eaaea24fe01f0585bf52ee70852af4eac0cc4b04711cd0e2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// hash of \"Ethereum\"</span>\r\n\r\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">function</span> <span class=\"token function\">solve</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> solution<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>hash <span class=\"token operator\">==</span> <span class=\"token function\">keccak256</span><span class=\"token punctuation\">(</span>abi<span class=\"token punctuation\">.</span><span class=\"token function\">encodePacked</span><span class=\"token punctuation\">(</span>solution<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Incorrect answer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> ether<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ì½”ë“œëŠ” ê°„ë‹¨í•œ ì¶”ì¸¡ ê²Œì„ ì½”ë“œì´ë‹¤.\r\nhash ê°’ì˜ ë³€í™˜ ì „ ë‹¨ì–´ ë§ì¶œì‹œ 10 etherë¥¼ contractì— ìˆëŠ” 10 etherë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.</p>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>Aê°€ FindThisHash contractë¥¼ 10 etherë¥¼ í¬í•¨í•´ ë°°í¬í•œë‹¤.</li>\n<li>Bê°€ hashì˜ ë³€í™˜ ì „ ë‹¨ì–´ë¥¼ ì°¾ëŠ”ë‹¤.(â€œEthereumâ€)</li>\n<li>BëŠ” ì°¾ì€ ë‹µì„ ë§¤ê°œë³€ìˆ˜ë¡œ í•˜ì—¬ solve functionì„ callí•œë‹¤. Call í• ë•Œ gas price 15 gweië¡œ ì§€ì •í•œë‹¤.</li>\n<li>CëŠ” transcation pool ë³´ê³ ìˆë‹¤ê°€ ëˆ„êµ°ê°€ FindThisHash contractì˜ ë¬¸ì œë¥¼ í’€ì—ˆê³  solve functionì„ ì½œí•œ ê²ƒì„ ë³¼ ìˆ˜ìˆë‹¤.</li>\n<li>CëŠ” ì–»ëŠ” ì •ë³´ë¥¼ í† ëŒ€ë¡œ ê°™ì€ ë‹µì„ ì¨ì„œ transactionì„ ë³´ë‚¸ë‹¤. ì´ë•Œ Bê°€ ë³´ë‚¸ gas priceë³´ë‹¤ ë†’ì€ 100gweië¥¼ ì§€ë¶ˆí•œë‹¤.</li>\n<li>Cì˜ transactionì´ ë¨¼ì € ì±„êµ´ë˜ê³  Cê°€ ë³´ìƒì„ íšë“í•˜ê²Œ ëœë‹¤.</li>\n</ol>\n<p>ìœ„ì— ì‹œë‚˜ë¦¬ì˜¤ì²˜ëŸ¼ transaction dataë¥¼ ë¯¸ë¦¬ ì•Œë©´ ì•…ì˜ì ìœ¼ë¡œ ì´ë“ì„ ì·¨í•  ìˆ˜ ìˆë‹¤.</p>\n<hr>\n<h2 id=\"real-world-example-synthetix\" style=\"position:relative;\"><a href=\"#real-world-example-synthetix\" aria-label=\"real world example synthetix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Real World Example (Synthetix)</h2>\n<p>SynthetixëŠ” íƒˆì¤‘ì•™í™” ê±°ë˜ì†Œ ì¤‘ í•˜ë‚˜ì´ë‹¤. SynthetixëŠ” ë‹¤ë¥¸ íƒˆì¤‘ì•™í™” ê±°ë˜ì†Œì™€ ë‹¤ë¥´ê²Œ ë…ë“í•œ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤. Order bookì„ í†µí•´ì„œ ê±°ë˜ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ Exchange Ratesì— ì˜ì¡´í•´ì„œ ëª¨ë“  ë§¤ìˆ˜/ë§¤ë„ë¥¼ í†µí•´ ê°€ê²©ì´ ê²°ì •ëœë‹¤.\r\në§Œì•½ traderê°€ Exchange Rateê°€ ì—…ë°ì´íŠ¸ ë˜ê¸° ì „ì— ê³§ ì—…ë°ì´íŠ¸ ë  ê°’ì„ ì•Œ ìˆ˜ ìˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?\r\në°”ë€” Exchange Rateì„ ì•ˆë‹¤ëŠ” ê²ƒì€ ë§¤ìˆ˜ê°€/ë§¤ë„ê°€ë¥¼ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆë‹¤ëŠ” ë§ê³¼ ê°™ë‹¤. ë°”ë€” ë§¤ìˆ˜ê°€/ë§¤ë„ê°€ë¥¼ ë¯¸ë¦¬ ì•Œë©´ ìƒìŠ¹í•  í† í°ì„ ë¯¸ë¦¬ ì‚¬ë‘ì–´ ìˆ˜ìµì„ ì‹¤í˜„ í•  ìˆ˜ ìˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ í•˜ë½í•  í† í°ì„ ë¯¸ë¦¬ íŒ”ì•„ ì†í•´ë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆê²Œëœë‹¤.</p>\n<p>ìœ„ì—ì„œ ë³´ì•˜ë˜ Example Codeì˜ ì‹œë‚˜ë¦¬ì˜¤ì²˜ëŸ¼ Synthetixì—ì„œë„ ìê¸ˆ íƒˆì·¨ê°€ ì¼ì–´ë‚¬ì—ˆë‹¤. í•œ ì‚¬ìš©ìê°€ Trading botì„ êµ¬ì¶•í•´ Exchange Rateì„ ë¯¸ë¦¬ë³´ê³  ì´ë“ì„ ì·¨í•˜ê³  ìˆì—ˆë‹¤.</p>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<ol>\n<li>submarine send</li>\n</ol>\n<p>submarine sendì„ ì‚¬ìš©í•˜ë©´ ì±„êµ´ì ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ transactionì„ ë¯¸ë¦¬ ë³¼ ìˆ˜ ì—†ê²Œ ëœë‹¤. ê´€ë ¨ ì—†ëŠ” transactionê³¼ ì„ì—¬ìˆë‹¤ê°€ ë‚˜ì¤‘ì— ìƒí˜¸ì‘ìš© ìˆë˜ smart contract ë‹¤ì‹œ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ëŠ” ì´ë¯¸ ì•…ì˜ì ì¸ ì‚¬ìš©ìê°€ front runningí•˜ê¸° ëŠ¦ì€ ìƒí™©ì´ ë¨ìœ¼ë¡œ attackì„ ë°©ì–´í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ê¸°ì¡´ì˜ transactionì€ ë°‘ì— ì‚¬ì§„ì²˜ëŸ¼ userì™€ smart contractì´ ì§ì ‘ ìƒí˜¸ì‘ìš© í•  ìˆ˜  ìˆë‹¤.\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz22RTStEURjH7wey8REsZuErEFE2yoZYSLJQWIoyJTsLooYS8tYkQoTUGDNm7ngZb2HmMufeO2fGPfene4aJeOp0/s95zvPrOedvAJiJGHNTYxztbAUpvu/r9Te+zoJ6sCsJtgllq9pn2IV3uhrraaqroSVUS/z0UBeV5/2Bf2udyRdEKow460Ucd1J+2dV3jMt4jMm+Zm42xpkZbGVraV4XPO/j15QVHQCVBqpMmKerNXK2S3R5nNv1NlA5jFQywdxIB5gRouFuoiuLGuA4DqVSiXw+jxBCayklUhYpf/h48X7ymR1sF9ZWI1ytNEDxEiP3+spAa4jsQh+j7SH2tzerEwZhWRau6/54sqroxwj27jDW/RnZkwmckx7wixhB48PRIrm9aZ4OZnHenv81pqq//tB1BMXMNOK4B3k+ROkthafA0AYAsaRJwZEVQ5T6Bfppyjc0lTY5vzC5y16TSKaJJ9KIwjufe78AoAZMVN0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flow_without_submarine\"\n        title=\"flow_without_submarine\"\n        src=\"/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/37523/flow_without_submarine.png\"\n        srcset=\"/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/e9ff0/flow_without_submarine.png 180w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/f21e7/flow_without_submarine.png 360w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/37523/flow_without_submarine.png 720w,\n/static/9c9f8eaa6681dbde810a0dd4bfaf5b17/0955e/flow_without_submarine.png 901w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\r\nsubmarine sendë¥¼ ì´ìš©í•˜ë©´ commit-reveal schemeì„ í™œìš©í•˜ì—¬ transactionì„ ê°ì¶” ìˆ˜ ìˆë‹¤(ì •ë³´ë¥¼ ê°ì¶”ê¸° ìœ„í•´ private &#x26; public keyë¥¼ ì‚¬ìš©í•œë‹¤).\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmUlEQVQ4y52Ta0sUYRiG97dE/6H+Q30Jw/oQ1ZcOBGEgGWaBBwQtSnElMQuxBMMKLMwyM7Ckg+fTuu46q7ub7XlWd2d2Z2Z3Zq7Y2QO7qQQ98PIO8zzvfd/PyUaZmaZp3UbhFmIh+uemeLX6k4SSrvAdZra/fximYd2O8A4XX/dydrib6mE7DRPDpDJaBfE/AXOBRUD793GqBzq5OtTHlR679T3tc+dJDeM/AH985NSDVs41t3HmViMnHzbxddtp+XTDOFTlvpT1AruwG+HSyFOq+u9zoqeF+reDZAtkxr9SzrFZ6gpge4kEkWCI2U0nXRNveDL5DqewiRiNIslyKe3iu3IM20HSJUliUxAIB4KEfwfYjcbw+3x4PB6SyeS++HIMG5hIUhKPICAIAj6fj0gkUtHxcstms4TDYevEYjFSslSpsBSoGySTErIsoapq6RQDFUWxwGRZxuv14vVuEwhGSMrFUcqT2/bEKGPDA3wefYmmKiUVObBy5pzlQCtGxkyC4gUzW4q1dTXVcvr4UaqOHeHF4w7LkU6nK2pTXiNFSaOboMfnSDvbUZfrSK03YyiBvMLuhsvMDzUx3V9Pb+tNsrp+4OAWp0A3IJsKojma2QoKREJuxp9fI7V6Lw/4rK0Wbb4fceoRg52NZLI6mUyGeDxuNUcURaLRKKlUCk1TUTNg7C6hrdwmEo4T391jZLAZefYGmCq2lpoLzPRd5337eeyt9SVFuQ663W42Njbw+/2lmuanP0Fm6S7i/Bii6MX1qQ7N1ZlXuD0zSmiym50PHfxa/ZIfF10/cAusWpoGuYIYe2toK3dQF2vA04GpiZjFTXE4XWx5/RWLX6xZ+UYUmyPGYswtrOBcX8Ox9I2FxWUc6y5UVeEPI5SirXE6wasAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"flow_with_submarine\"\n        title=\"flow_with_submarine\"\n        src=\"/static/fe9f671a96dfd24022283809e3b232ad/37523/flow_with_submarine.png\"\n        srcset=\"/static/fe9f671a96dfd24022283809e3b232ad/e9ff0/flow_with_submarine.png 180w,\n/static/fe9f671a96dfd24022283809e3b232ad/f21e7/flow_with_submarine.png 360w,\n/static/fe9f671a96dfd24022283809e3b232ad/37523/flow_with_submarine.png 720w,\n/static/fe9f671a96dfd24022283809e3b232ad/c4b7c/flow_with_submarine.png 903w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>smart contract ìì²´ì—ì„œ ë¬¸ì œë³´ë‹¤ ë¸”ë¡ì²´ì¸ì´ ê°€ì§„ íŠ¹ì„±ì„ ì´ìš©í•˜ëŠ” ê³µê²©ì´ë‹¤. ì´ë¥¼ ì¢€ ë” ìì„¸íˆ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ë¸”ë¡ì²´ì¸ ìì²´ì— ëŒ€í•œ ê³µë¶€ê°€ ë” í•„ìš”í•  ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤. smart contractì™€ ë”ë¶ˆì–´ ë¸”ë¡ì²´ì¸ ì½”ì–´ì—ë„ ìµìˆ™í•´ì ¸ë³´ì!</p>\n<hr>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://solidity-by-example.org/hacks/front-running/\">https://solidity-by-example.org/hacks/front-running/</a></li>\n<li><span style=\"color:grey\"> <a href=\"https://medium.com/haechi-audit-kr/synthetix-front-running-explained-c0d638982cb1\">https://medium.com/haechi-audit-kr/synthetix-front-running-explained-c0d638982cb1</a> </span></li>\n<li><a href=\"https://libsubmarine.org/\">https://libsubmarine.org/</a></li>\n</ul>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#front-running%EC%9D%B4%EB%9E%80\">Front Runningì´ë€?</a></p>\n</li>\n<li>\n<p><a href=\"#example-code\">Example Code</a></p>\n</li>\n<li>\n<p><a href=\"#real-world-example-synthetix\">Real World Example (Synthetix)</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 27, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 5) Front Running","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/front_running/front_running/"}},"prev":{"id":"e0e97a21-8a72-5a35-9c3f-9a61ee547457","html":"<h1 id=\"-dosdenial-of-service-with-block-gas-limit\" style=\"position:relative;\"><a href=\"#-dosdenial-of-service-with-block-gas-limit\" aria-label=\" dosdenial of service with block gas limit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘‹ DoS(Denial of Service) With Block Gas Limit</h1>\n<h2 id=\"ë“¤ì–´ê°€ê¸°ì „\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84\" aria-label=\"ë“¤ì–´ê°€ê¸°ì „ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì „</h2>\n<h3 id=\"gasë€-ë¬´ì—‡ì¸ê°€\" style=\"position:relative;\"><a href=\"#gas%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"gasë€ ë¬´ì—‡ì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GASë€ ë¬´ì—‡ì¸ê°€?</h3>\n<p>ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ì˜ ë¸”ë¡ë“¤ì€ ê° ë¸”ë¡ë§ˆë‹¤ ì†Œë¹„ í•  ìˆ˜ ìˆëŠ” ê°€ìŠ¤ì˜ ìµœëŒ€ëŸ‰ì´ ì •í•´ì ¸ìˆë‹¤. ì¦‰ ê° ë¸”ë¡ì´ ì†Œë¹„í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ëŸ‰ì„ ë„˜ì–´ì„ ë‹¤ë©´ <strong>transactionë“¤ì€ fail</strong> í•˜ê²Œëœë‹¤.</p>\n<hr>\n<h3 id=\"dos-with-block-gas-limit\" style=\"position:relative;\"><a href=\"#dos-with-block-gas-limit\" aria-label=\"dos with block gas limit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DoS With Block Gas Limit</h3>\n<p>ì—°ì‚°ë‹¹ Gasê°€ ì •í•´ì ¸ ìˆìœ¼ë©° smart contractë¥¼ ì‹¤í–‰í•  ë•Œ ê³„ì‚°ëœë‹¤. Block Gas Limit DOSì€ smart contractê°€ ì‹¤í–‰ë˜ê³  Gasë¥¼ ê³„ì‚°í• ë•Œ ìµœëŒ€ ì—°ì‚°ëŸ‰ì„ ì´ˆê³¼í•˜ë©´ ë°œìƒí•œë‹¤.\r\nì˜ˆë¥¼ ë“¤ì–´ë³´ê² ë‹¤.</p>\n<ol>\n<li>í•œ smart contractì— ì‚¬ìš©ìê°€ ë§ì•„ì§ì— ë”°ë¼ í¬ê¸°ê°€ ì¦ê°€í•˜ëŠ” Arrayê°€ ìˆë‹¤.</li>\n<li>smart contractì•ˆì—ëŠ” ê·¸ array ì „ì²´ë¥¼ ìˆœí™˜í•˜ëŠ” ì‘ì—…ì´ ìˆë‹¤.</li>\n<li>ì²˜ìŒì—ëŠ” ê´œì°®ì•˜ìœ¼ë‚˜ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ Arrayê°€ ì»¤ì ¸ ì—°ìƒëŸ‰ì´ ì¦ê°€í•œë‹¤.</li>\n<li>ì—°ì‚°ëŸ‰ì´ ë„ˆë¬´ ë§ì•„ì ¸ Denial Of Serviceë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.</li>\n</ol>\n<p>ë³´ë‹¤ ì˜ ì´í•´í•˜ê¸° ìœ„í•´ Example Codeë¥¼ ì‚´í´ë³´ì!!</p>\n<hr>\n<h2 id=\"example-code\" style=\"position:relative;\"><a href=\"#example-code\" aria-label=\"example code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example code</h2>\n<p>ê°„ë‹¨í•œ codeë¡œ ì´í•´í•´ë³´ì!</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">Payee</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">address</span> addr<span class=\"token punctuation\">;</span>\r\n    <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\nPayee<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> payees<span class=\"token punctuation\">;</span>\r\n<span class=\"token builtin\">uint256</span> nextPayeeIndex<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">pay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">//pay something</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">payOut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token builtin\">uint256</span> i <span class=\"token operator\">=</span> nextPayeeIndex<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> payees<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> msg<span class=\"token punctuation\">.</span>gas <span class=\"token operator\">></span> <span class=\"token number\">200000</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      payees<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>addr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>payees<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n      i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    nextPayeeIndex <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ contractëŠ” Payeeë“¤ì—ê²Œ ìˆœì°¨ì ìœ¼ë¡œ í™˜ë¶ˆí•´ì£¼ëŠ” functionì„ í¬í•¨í•˜ê³  ìˆë‹¤.\r\nì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>pay()ë¥¼  í†µí•´ payees Arrayì— addressì™€ valueë¥¼ ì¶”ê°€í•œë‹¤.</li>\n<li>ì ì  payees[]ì˜ í¬ê¸°ê°€ ëŠ˜ì–´ë‚œë‹¤.</li>\n<li>payOut()ì„ ì‹¤í–‰í• ë•Œê°€ ë˜ì–´ ì‹¤í–‰ì‹œí‚¨ë‹¤.</li>\n<li>payOut()ì€ payees[] ì „ì²´ë¥¼ ìˆœí™˜í•˜ë©° valueë¥¼ ì§€ê¸‰í•œë‹¤.</li>\n<li>payOut()ì—ì„œ whileë¬¸ì„ ì‹¤í–‰ì‹œí‚¤ë‹¤ block gas limitë¥¼ ì´ˆê³¼í•œë‹¤.</li>\n<li>ê²°êµ­ payOut()ë¥¼ ì‹¤í–‰ í•  ìˆ˜ ì—†ì–´, ETHê°€ lockëœë‹¤.</li>\n</ol>\n<hr>\n<h2 id=\"another-exmample\" style=\"position:relative;\"><a href=\"#another-exmample\" aria-label=\"another exmample permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Another Exmample</h2>\n<p>ìœ„ Example CodeëŠ” smart contractë¥¼ ë§Œë“¤ë•Œ ê°œë°œìì˜ ì‹¤ìˆ˜ë¡œ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤.\r\ní•˜ì§€ë§Œ ê°œë°œìì˜ ì‹¤ìˆ˜ê°€ ì•„ë‹ˆë”ë¼ë„ ê³µê²©ìëŠ” ë†’ì€ ê°€ìŠ¤ ê°€ê²©ìœ¼ë¡œ transactionì„ ì¼ìœ¼í‚´ìœ¼ë¡œì¨ transactionì´ ë¸”ë¡ì²´ì¸ì— í¬í•¨ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.</p>\n<p>ì´ ê³µê²©ì€ ë„ë°• Dappì¸ Fomo3Dì—ì„œ ë°œìƒí–ˆì—ˆë‹¤. Fomo3DëŠ” íŠ¹ì • ì¡°ê±´ì—ì„œ í‚¤ë¥¼ ë°œê¸‰í•´ì£¼ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ Keyë¥¼ ë°›ì€ ì‚¬ëŒì—ê²Œ ë³´ìƒì„ ì£¼ëŠ” ì‹œìŠ¤í…œì´ë‹¤. ë³´ìƒì€ íƒ€ì´ë¨¸ê°€ ëë‚˜ëŠ” ì‹œì ì— ì£¼ì–´ì§€ê²Œë˜ê³  Keyë¥¼ ìƒˆë¡œ ë°›ì„ ë•Œë§ˆë‹¤ íƒ€ì´ë¨¸ì˜ ì‹œê°„ì´ ëŠ˜ì–´ë‚œë‹¤.</p>\n<p>Fomo3Dì—ì„œëŠ” <strong>Block Stuffing</strong> ì„ í†µí•´ì„œ etherë¥¼ ê°€ë¡œì±˜ë‹¤. BLock Stuffingì„ ë¸”ë¡ì„ ì±„ìš´ë‹¤ëŠ” ëœ»ìœ¼ë¡œ ë¸”ë¡ì„ ì±„ì›Œ Gas Limitì„ ë„˜ê²Œ ë§Œë“¤ê³  ì´ë¡œì¸í•´ transactionì´ ë¸”ë¡ì— ê¸°ë¡ë˜ì§€ ëª»í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ë ‡ë‹¤.</p>\n<ol>\n<li>attackerê°€ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±ì‹œì¼œ <strong>í‚¤ë¥¼</strong> ë°œê¸‰ë°›ëŠ”ë‹¤.</li>\n<li>ì´í›„ íƒ€ì´ë¨¸ê°€ ëë‚ ë•Œê¹Œì§€ block stuffingì„ í†µí•´ ë‹¤ë¥¸ transactionì„ ê¸°ë¡í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤.</li>\n<li>íƒ€ì´ë¨¸ê°€ ëë‚˜ëŠ” ì‹œê°„ì— ë³´ìƒì„ ë°›ëŠ”ë‹¤.</li>\n</ol>\n<p>ì•„ë§ˆ blockì„ ì±„ìš°ëŠ”ë° ë§ì€ ëˆì´ ë“¤ì§€ë§Œ ê·¸ë§Œí¼ ë³´ìƒì´ í™•ì‹¤í•˜ë‹¤ë©´ attackì„ ë°›ì„ ì—¬ì§€ê°€ ìˆë‹¤.</p>\n<hr>\n<h2 id=\"how-to-prevent\" style=\"position:relative;\"><a href=\"#how-to-prevent\" aria-label=\"how to prevent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to prevent?</h2>\n<p>ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ í¬ê¸°ê°€ ì¦ê°€í•˜ëŠ” arrayëŠ” ì‚¬ìš©ì— ì£¼ì˜í•´ì•¼í•œë‹¤. ë˜í•œ ê·¸ arrayë¥¼ ìˆœí™˜í•˜ëŠ” ë°˜ë³µë¬¸ ì‘ì—…ë„ í”¼í•´ì•¼í•œë‹¤.\r\në˜í•œ ê¼­ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” DOS unexpected revertì—ì„œ ì•Œì•„ë³´ì•˜ë˜ pull over push ë°©ë²•ì„ ì‚¬ìš©í•´ transactionì„ ì²˜ë¦¬í•´ì•¼í•œë‹¤.</p>\n<ul>\n<li>pull over push: contractë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ attackerì˜ ê³µê²©ì„ attackerì˜ ì†ì‹¤ë¡œë§Œ ì²˜ë¦¬ í•  ìˆ˜ ìˆë‹¤. ìœ„ì˜ ì½”ë“œë¥¼ pull over pushë¡œ ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.</li>\n</ul>\n<hr>\n<h2 id=\"ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬</h2>\n<p>DOSëŠ” EVMê³¼ í° ê´€ë ¨ì´ ìˆëŠ” ì·¨ì•½ì  ê°™ë‹¤. EVMì˜ ê°€ìŠ¤ì²´ê³„ë¥¼ ê³µë¶€í•¨ìœ¼ë¡œì¨ GAS Optimizationë“±ì— ëŒ€í•´ ê¹Šê²Œ ë°°ìš¸ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤! ì·¨ì•½ì  ì´í›„ì—ëŠ” EVMì— ëŒ€í•œ ì—°êµ¬ë¥¼ í•´ë³¸ë‹¤ë©´ ë” ì„±ì¥í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. ë!!!</p>\n<hr>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://swcregistry.io/docs/SWC-128\">https://swcregistry.io/docs/SWC-128</a></li>\n<li><a href=\"https://consensys.github.io/smart-contract-best-practices/known_attacks/#gas-limit-dos-on-a-contract-via-unbounded-operations\">https://consensys.github.io/smart-contract-best-practices/known_attacks/#gas-limit-dos-on-a-contract-via-unbounded-operations</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%A0%84\">ë“¤ì–´ê°€ê¸°ì „</a></p>\n<ul>\n<li><a href=\"#gas%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\">GASë€ ë¬´ì—‡ì¸ê°€?</a></li>\n<li><a href=\"#dos-with-block-gas-limit\">DoS With Block Gas Limit</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#example-code\">Example code</a></p>\n</li>\n<li>\n<p><a href=\"#another-exmample\">Another Exmample</a></p>\n</li>\n<li>\n<p><a href=\"#how-to-prevent\">How to prevent?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">ë§ˆë¬´ë¦¬</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"December 31, 2021","title":"(ì·¨ì•½ì  ì‹œë¦¬ì¦ˆ 7) DOS With Block Gas Limit","categories":"ì·¨ì•½ì ë¶„ì„","author":"í•œì„±ì›","emoji":"ğŸ§¢"},"fields":{"slug":"/vulnerability/dos_with_block_gas_limit/dos_block_gas_limit/"}},"site":{"siteMetadata":{"siteUrl":"https://holyhansss.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/vulnerability/dos_with_unexpected_revert/dos_unexpected_revert/","nextSlug":"/vulnerability/front_running/front_running/","prevSlug":"/vulnerability/dos_with_block_gas_limit/dos_block_gas_limit/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}